import{_ as p,A as d,a as g}from"./atmosphere-ui.es.4435c64a.js";import{u as v,o as _,c as y,a,b as l,f as e,H as x,r as V,g as k,d as r,P as h,t as w,e as $,i as b}from"./app.8c4d85cf.js";import{_ as C}from"./AppLayout.3b0489bb.js";import{f as N}from"./index.082e1a14.js";import{N as D}from"./DatePicker.d9ac50bf.js";import"./_plugin-vue_export-helper.cdc0426e.js";import"./fade-in-scale-up.cssr.73ecc0f8.js";import"./light.24ffe470.js";import"./Suffix.dc74e16b.js";const F={__name:"GoalForm",props:{resource:{type:Object,default:()=>({name:""})}},emits:["close"],setup(m,{expose:u}){var c;const n=m,t=v({name:(c=n.resource)==null?void 0:c.name,target:"",amount:"",due_date:new Date});return u({submit:async()=>{const f=n.meal?"put":"post",o=n.meal?`/goals/${n.resource.id}`:"/goals";t.transform(s=>({...s,due_date:N(new Date(t.due_date),"yyyy-MM-dd")})).submit(f,o,{onSuccess:async()=>{f=="post"&&(await x(),t.reset())}})}}),(f,o)=>(_(),y("div",null,[a(e(d),{label:"Title"},{default:l(()=>[a(e(p),{modelValue:e(t).name,"onUpdate:modelValue":o[0]||(o[0]=s=>e(t).name=s),placeholder:"Your goal's name"},null,8,["modelValue"])]),_:1}),a(e(d),{label:"Target amount"},{default:l(()=>[a(e(p),{modelValue:e(t).target,"onUpdate:modelValue":o[1]||(o[1]=s=>e(t).target=s),type:"number"},null,8,["modelValue"])]),_:1}),a(e(d),{label:"Amount saved"},{default:l(()=>[a(e(p),{modelValue:e(t).amount,"onUpdate:modelValue":o[2]||(o[2]=s=>e(t).amount=s),type:"number"},null,8,["modelValue"])]),_:1}),a(e(d),{label:"Due date"},{default:l(()=>[a(e(D),{value:e(t).due_date,"onUpdate:value":o[3]||(o[3]=s=>e(t).due_date=s),type:"date"},null,8,["value"])]),_:1})]))}},B={class:"flex justify-between"},T=b(" Goals "),U={key:0},j=b("Editing "),A={class:"font-bold"},G=b(" Save "),S={class:"py-12"},E={class:"px-6 mx-auto max-w-7xl"},J={__name:"GoalCreate",props:{meals:{type:[Object,null],default:null}},setup(m){const u=V(null),n=()=>{u.value.submit()};return(t,i)=>(_(),k(C,null,{header:l(()=>[r("div",B,[r("div",null,[a(e(h),{href:"/meals",class:"block text-xl font-semibold leading-tight text-primary"},{default:l(()=>[T]),_:1}),m.meals?(_(),y("p",U,[j,r("span",A,w(m.meals.name),1)])):$("",!0)]),r("div",null,[a(e(g),{class:"text-white bg-primary",onClick:i[0]||(i[0]=c=>n())},{default:l(()=>[G]),_:1})])])]),default:l(()=>[r("div",S,[r("div",E,[a(F,{form:t.form,onClose:t.close,ref_key:"resourceForm",ref:u},null,8,["form","onClose"])])])]),_:1}))}};export{J as default};
