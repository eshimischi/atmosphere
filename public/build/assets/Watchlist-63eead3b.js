import{L as g}from"./atmosphere-ui-5b718e83.js";import{g as v,_ as w}from"./AppLayout.vue_vue_type_script_setup_true_lang-87835da0.js";import{u as D,_ as T,F as M}from"./useServerSearch-8502c7d2.js";import{_ as S}from"./LogerButton-370ed8f9.js";import{a as $,f as k,M as C}from"./index-3a6f8c36.js";import{p as y,o as l,e as x,b as t,t as n,u as o,A as F,f,c as u,w as d,a as m,i as L,h as O,F as V,g as A}from"./app-fc313f38.js";import{f as _}from"./formatMoney-da670e0a.js";import{_ as B}from"./WatchlistModal-9269de4a.js";import"./isMobile-3d69cdae.js";import"./index-975c57c9.js";import"./_plugin-vue_export-helper-c27b6911.js";import"./AppIcon-36bb04e5.js";/* empty css                                                */import"./Modal-ca404241.js";/* empty css                                              */import"./LogerInput-2f23c230.js";import"./NumberHider-888bcf03.js";import"./vue-draggable-next.esm-bundler-25f0042a.js";import"./constants-cb26b0c1.js";import"./exact-math.node-672740b8.js";import"./WidgetCard-97abea05.js";import"./SectionTitle-df81ac17.js";import"./SectionNav-7e8b141c.js";import"./Dropdown-1335b583.js";const j={class:"overflow-hidden bg-white rounded-lg shadow-md"},N={class:"p-4 font-bold"},U={class:"text-primary"},W={class:"p-4"},q={class:"rounded-md bg-secondary/10 px-4 py-2"},E=t("h5",{class:"text-body-1/80"},"This Month",-1),R={class:"font-bold text-secondary"},z={class:"flex justify-between text-xs space-x-2"},G={class:"px-5 py-2 mt-4 bg-secondary/10 w-full bg-opacity-25 rounded-md"},H=t("span",{class:"text-body-1/80"}," Last month: ",-1),I={class:"font-bold text-secondary"},J={class:"px-5 py-2 mt-4 bg-secondary/10 w-full bg-opacity-25 rounded-md"},K=t("span",{class:"text-body-1/80"}," Target: ",-1),P={class:"font-bold text-secondary"},Q={class:"grid grid-cols-2 p-4 pb-2 bg-primary text-white mx-4 rounded-xl"},X={class:"text-center"},Y=t("span",{class:"text-xs"},"Last transaction date",-1),Z={class:"text-center"},tt=t("span",{class:"text-xs"},"Transactions",-1),et=t("footer",{class:"text-primary px-4 pt-2 pb-4"},[t("button",null,"Show more")],-1),st={__name:"WatchlistCard",props:{item:{type:Object,required:!0}},setup(e){const c=e,p=y(()=>v(c.item.data.month.total,c.item.data.prevMonth.total)||0);return(r,h)=>(l(),x("article",j,[t("h4",N,[t("span",U,n(e.item.name),1),t("p",null,[t("small",null,n(e.item.description),1)])]),t("section",W,[t("div",q,[E,t("h4",R,n(o(_)(e.item.data.month.total)),1)]),t("div",z,[t("div",G,[H,t("span",I,n(p.value)+"%",1)]),t("div",J,[K,t("span",P,n(o(_)(e.item.data.month.target||0)),1)])])]),t("section",Q,[t("div",X,[t("h4",null,n(o($)(e.item.data.month.lastTransactionDate,"--")),1),Y]),t("div",Z,[t("h4",null,n(e.item.data.month.transactionsCount||0),1),tt])]),et]))}},at={class:"w-full"},ot={class:"grid lg:grid-cols-3 gap-4 mt-4"},Ft={__name:"Watchlist",props:{user:{type:Object,required:!0},data:{type:Array,default(){return[]}},categories:{type:Array,default(){return[]}},accounts:{type:Array,default(){return[]}},serverSearchOptions:{type:Object,default:()=>({})}},setup(e){const c=e,{serverSearchOptions:p}=F(c),{state:r}=D(p),h=y(()=>"Spending watchlist for "+k(r.dates.startDate,C.long)),i=f(!1),b=f(null);return(nt,a)=>(l(),u(w,{title:h.value},{header:d(()=>[m(T,null,{actions:d(()=>[m(o(g),{class:"w-full h-12 border-none bg-base-lvl-1 text-body",startDate:o(r).dates.startDate,"onUpdate:startDate":a[0]||(a[0]=s=>o(r).dates.startDate=s),endDate:o(r).dates.endDate,"onUpdate:endDate":a[1]||(a[1]=s=>o(r).dates.endDate=s),controlsClass:"bg-transparent text-body hover:bg-base-lvl-1","next-mode":"month"},null,8,["startDate","endDate"]),t("div",null,[m(S,{variant:"inverse",onClick:a[2]||(a[2]=s=>i.value=!i.value)},{default:d(()=>[L(" Add WatchList ")]),_:1})])]),_:1})]),default:d(()=>[m(M,{title:"Finance",accounts:e.accounts,ref:"financeTemplateRef"},{default:d(()=>[t("article",at,[t("section",ot,[(l(!0),x(V,null,O(e.data,s=>(l(),u(st,{key:s.name,item:s},null,8,["item"]))),128))])]),i.value?(l(),u(B,{key:0,show:i.value,"onUpdate:show":a[3]||(a[3]=s=>i.value=s),"form-data":b.value},null,8,["show","form-data"])):A("",!0)]),_:1},8,["accounts"])]),_:1},8,["title"]))}};export{Ft as default};
