import{C as f,r as S}from"./chart-eb93a947.js";import{B as w,L as V}from"./index-b9ffb747.js";import{f as g,_ as B}from"./formatMoney-da670e0a.js";import"./isMobile-3d69cdae.js";import{p as y,f as x,J as j,o as d,c as C,C as H,E as D,x as O,e as c,b as r,w as $,g as h,i as v,t as u,u as _,n as E,F as I,h as L,a as b,y as N,z as T}from"./app-fc313f38.js";import{_ as z}from"./NumberHider-888bcf03.js";import{f as m}from"./index-3a6f8c36.js";import{_ as F}from"./_plugin-vue_export-helper-c27b6911.js";const A={__name:"LogerChart",props:{type:{type:String,default:"line"},series:{type:Array,default(){return[]}},labels:{type:Array,default:()=>[]},options:{type:Object,default:()=>({})},value:{type:String},label:{type:String},legendPosition:{type:String,default:""},scaleType:{default:"logarithmic"},scalePosition:{type:String,default:"left"},hasHiddenValues:{type:Boolean}},setup(o){const e=o,s={bar:w,line:V},n=y(()=>s[e.type]),p=y(()=>({labels:e.labels,datasets:e.series.map((a,t)=>({label:a.name,data:a.data,fill:!0,backgroundColor:e.options.colors[t],...e.options.borderColors&&{borderColor:e.options.borderColors[t]},...a}))})),i=y(()=>({plugins:{title:{display:!!e.title,text:e.title}},layout:{padding:20},scales:{y:{ticks:{callback(a,t,k){return e.hasHiddenValues?"--":g(a)}}}},...e.options})),l=x();return f.register(...S),f.overrides[e.type].plugins&&(f.overrides[e.type].plugins.legend.display=!1),j(()=>e.hasHiddenValues,()=>{l.value.chart.options=i.value,l.value.chart.update()},{deep:!0}),(a,t)=>(d(),C(H(n.value),{data:p.value,options:i.value,ref_key:"chartRef",ref:l},null,8,["data","options"]))}};const M=o=>(N("data-v-eead286e"),o=o(),T(),o),P={class:"w-full comparison-card"},R={class:"px-5 pb-10 rounded-lg"},q={class:"p-4 font-bold text-left card-title"},J=M(()=>r("i",{class:"fa fa-arrow-left"},null,-1)),G={key:1,class:"capitalize text-primary"},K={class:"card-text"},Q=["onClick"],U={class:"period-title"},W={class:"mt-2 text-xs period-value"},X={__name:"ChartComparison",props:{title:{type:String},hideHeader:{type:Boolean},headerTemplate:{type:String,default:"row"},type:{type:String,default:"bar"},data:{type:Object,required:!0}},setup(o){const e=o,s=x(),n=y(()=>{const l=[{name:"Expenses",data:Object.values(e.data).map(t=>t.total),labels:Object.keys(e.data).map(t=>m(t))}],a=s.value?[{name:m(s.value),data:e.data[s.value].data.map(t=>t.total),labels:e.data[s.value].data.map(t=>t.name)}]:[];return s.value?a:l}),p=D("hasHiddenValues"),i=O({headers:Object.entries(e.data).map(([l,a])=>({label:m(l),value:a.total,id:l})),options:{colors:["#7B77D1","#80CDFE"],hasHiddenValues:p.value},series:n});return(l,a)=>(d(),c("div",P,[r("div",R,[r("h5",q,[s.value?(d(),C(B,{key:0,onClick:a[0]||(a[0]=t=>s.value=null)},{default:$(()=>[J]),_:1})):h("",!0),v(" "+u(o.title)+" ",1),s.value?(d(),c("span",G,u(_(m)(s.value)),1)):h("",!0)]),r("div",K,[r("div",{class:E([[o.headerTemplate=="grid"?"md:grid md:grid-cols-4":"md:flex"],"w-full mb-2 divide-y comparison-header md:px-10 text-body-1/50 md:space-x-2 md:divide-x md:divide-y-0 divide-dashed divide-opacity-20 divide-body-1 bg-base-lvl-2"])},[(d(!0),c(I,null,L(i.headers,t=>(d(),c("div",{key:t.id,onClick:k=>s.value=t.id,class:"flex items-center justify-between w-full px-4 py-2 cursor-pointer comparison-header__item md:py-6 md:justify-center md:flex-col previous-period hover:text-body/80"},[r("h6",U,u(t.label),1),r("span",W,[b(z),v(" "+u(_(g)(t.value)),1)])],8,Q))),128))],2),b(A,{class:"bg-white",style:{height:"300px",width:"100%"},label:"name",type:"bar",labels:n.value[0].labels,options:i.options,series:i.series,"has-hidden-values":_(p)},null,8,["labels","options","series","has-hidden-values"])])])]))}},re=F(X,[["__scopeId","data-v-eead286e"]]);export{re as C,A as _};
