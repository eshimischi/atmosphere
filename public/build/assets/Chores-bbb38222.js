import{r as u,j as $,o as f,c as _,w as o,a as r,b as s,i as c,u as v,k as w,g,O as i}from"./app-114b751b.js";import{_ as O}from"./AppLayout.vue_vue_type_script_setup_true_lang-c7e24bdb.js";import{_ as N}from"./HouseSectionNav-eb3b5a90.js";import{_ as B}from"./LogerButton-7d66d0a8.js";import{_ as j}from"./CustomTable-970a440a.js";import{o as E,_ as V}from"./occurrenceCols-d41191fc.js";import{N as A}from"./Dropdown-839d2ecf.js";import"./atmosphere-ui-b819c890.js";import"./isMobile-e3872359.js";import"./formatMoney-75af80f0.js";import"./useFirebase-fe12e715.js";import"./_plugin-vue_export-helper-c27b6911.js";import"./AppIcon-f342d706.js";/* empty css                                                */import"./Modal-c2871cdd.js";/* empty css                                              */import"./LogerInput-8ca4e824.js";import"./SectionNav-dd96bdd5.js";import"./TransactionsTable-abfea9c2.js";import"./exact-math.node-ab123f44.js";import"./NumberHider-49c0aef0.js";import"./index-2052210e.js";import"./Progress-446b78be.js";import"./SectionTitle-20b8f2ca.js";import"./index-98e11ada.js";const D={class:"pt-16 pb-20 pl-6 max-w-screen-2xl"},I={class:"flex flex-col items-center justify-center py-10 mx-auto mt-4 font-bold rounded-md h-92 bg-base-lvl-3 text-body-1 max-w-7xl"},M={class:"space-y-4"},S={class:"flex justify-end"},T={class:"flex h-8 overflow-hidden border rounded-lg border-primary"},L=s("button",{class:"px-2 hover:bg-base-lvl-3"},[s("i",{class:"fa fa-ellipsis-v"})],-1),pe={__name:"Chores",props:{occurrence:{type:Array,default(){return[]}}},setup(h){const a=u(!1),d=u(null),x=()=>{i.reload()},b=e=>{i.post(`/housing/occurrence/${e}/instances`)},k=e=>{i.delete(`/housing/occurrence/${e}/instances`)},m={edit:{name:"edit",label:"Edit",handle:e=>{d.value=e,a.value=!0}},removed:{name:"removed",label:"Remove",handle:e=>{confirm(`Are you sure you want to delete this check ${e.name}?`)&&i.delete(`/housing/occurrence/${e.id}`)}}},y=e=>Object.values(m).filter(t=>!t.hide),C=(e,t)=>{m[e].handle(t)};return(e,t)=>{const p=$("Button");return f(),_(O,{title:"Occurrence Checks"},{header:o(()=>[r(N,null,{actions:o(()=>[s("div",null,[r(B,{variant:"inverse",onClick:t[0]||(t[0]=n=>a.value=!a.value)},{default:o(()=>[c(" Add Check ")]),_:1})])]),_:1})]),default:o(()=>[s("div",D,[s("div",I,[s("div",M,[r(j,{cols:v(E),"show-prepend":!0,"table-data":h.occurrence},{actions:o(({scope:{row:n}})=>[s("div",S,[s("div",T,[r(p,{class:"flex items-center p-4 text-white bg-primary",onClick:l=>b(n.id)},{default:o(()=>[c(" + ")]),_:2},1032,["onClick"]),r(p,{class:"flex items-center p-4 text-primary",onClick:l=>k(n.id)},{default:o(()=>[c(" - ")]),_:2},1032,["onClick"])]),r(v(A),{trigger:"click","key-field":"name",options:y(n),"on-select":l=>C(l,n),onClick:t[1]||(t[1]=w(()=>{},["stop"]))},{default:o(()=>[L]),_:2},1032,["options","on-select"])])]),_:1},8,["cols","table-data"])])])]),a.value?(f(),_(V,{key:0,show:a.value,"onUpdate:show":t[2]||(t[2]=n=>a.value=n),"form-data":d.value,onSaved:x},null,8,["show","form-data"])):g("",!0)]),_:1})}}};export{pe as default};
