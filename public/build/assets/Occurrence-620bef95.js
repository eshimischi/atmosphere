import{_ as O}from"./plus-d46a5ab5.js";import{o as m,f as B,b as n,r as f,j as E,c as h,w as o,a as s,i as l,u as v,k as M,g as N,O as c}from"./app-114b751b.js";import{_ as V}from"./AppLayout.vue_vue_type_script_setup_true_lang-c7e24bdb.js";import{_ as j}from"./HouseSectionNav-eb3b5a90.js";import{_ as x}from"./LogerButton-7d66d0a8.js";import{_ as I}from"./CustomTable-970a440a.js";import{o as A,_ as D}from"./occurrenceCols-d41191fc.js";import{N as S}from"./Dropdown-839d2ecf.js";import"./atmosphere-ui-b819c890.js";import"./isMobile-e3872359.js";import"./formatMoney-75af80f0.js";import"./useFirebase-fe12e715.js";import"./_plugin-vue_export-helper-c27b6911.js";import"./AppIcon-f342d706.js";/* empty css                                                */import"./Modal-c2871cdd.js";/* empty css                                              */import"./LogerInput-8ca4e824.js";import"./SectionNav-dd96bdd5.js";import"./TransactionsTable-abfea9c2.js";import"./exact-math.node-ab123f44.js";import"./NumberHider-49c0aef0.js";import"./index-2052210e.js";import"./Progress-446b78be.js";import"./SectionTitle-20b8f2ca.js";import"./index-98e11ada.js";const L={viewBox:"0 0 24 24",width:"1.2em",height:"1.2em"},T=n("path",{fill:"currentColor",d:"M13 9V3.5L18.5 9M6 2c-1.11 0-2 .89-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8l-6-6H6Z"},null,-1),F=[T];function H(p,r){return m(),B("svg",L,F)}const P={name:"mdi-file",render:H},R={class:"flex space-x-2"},U={class:"pt-16 pb-20 pl-6 max-w-screen-2xl"},Z={class:"flex flex-col items-center justify-center py-10 mx-auto mt-4 font-bold rounded-md h-92 bg-base-lvl-3 text-body-1 max-w-7xl"},q={class:"space-y-4"},z={class:"flex justify-end"},G={class:"flex h-8 overflow-hidden border rounded-lg border-primary"},J=n("button",{class:"px-2 hover:bg-base-lvl-3"},[n("i",{class:"fa fa-ellipsis-v"})],-1),ge={__name:"Occurrence",props:{occurrence:{type:Array,default(){return[]}}},setup(p){const r=f(!1),i=f({}),b=()=>{c.reload()},y=e=>{c.post(`/housing/occurrence/${e}/instances`)},k=e=>{c.delete(`/housing/occurrence/${e}/instances`)},u={edit:{name:"edit",label:"Edit",handle:e=>{i.value=e,r.value=!0}},sync:{name:"sync",label:"Sync",handle(e){c.post(`/housing/occurrence/${e.id}/sync`)}},removed:{name:"removed",label:"Remove",handle:e=>{confirm(`Are you sure you want to delete this check ${e.name}?`)&&c.delete(`/housing/occurrence/${e.id}`)}}},$=e=>Object.values(u).filter(t=>!t.hide),g=(e,t)=>{u[e].handle(t)};return(e,t)=>{const C=P,w=O,_=E("Button");return m(),h(V,{title:"Occurrence Checks"},{header:o(()=>[s(j,null,{actions:o(()=>[n("div",R,[s(x,{variant:"neutral",class:"flex",href:e.route("occurrences.export"),target:"_blank",as:"a"},{default:o(()=>[s(C,{class:"mr-2"}),l(" Export ")]),_:1},8,["href"]),s(x,{variant:"secondary",class:"flex",onClick:t[0]||(t[0]=a=>r.value=!r.value)},{default:o(()=>[s(w,{class:"mr-2"}),l(" Add Check ")]),_:1})])]),_:1})]),default:o(()=>[n("div",U,[n("div",Z,[n("div",q,[s(I,{cols:v(A),"show-prepend":!0,"table-data":p.occurrence},{actions:o(({scope:{row:a}})=>[n("div",z,[n("div",G,[s(_,{class:"flex items-center p-4 text-white bg-primary",onClick:d=>y(a.id)},{default:o(()=>[l(" + ")]),_:2},1032,["onClick"]),s(_,{class:"flex items-center p-4 text-primary",onClick:d=>k(a.id)},{default:o(()=>[l(" - ")]),_:2},1032,["onClick"])]),s(v(S),{trigger:"click","key-field":"name",options:$(a),"on-select":d=>g(d,a),onClick:t[1]||(t[1]=M(()=>{},["stop"]))},{default:o(()=>[J]),_:2},1032,["options","on-select"])])]),_:1},8,["cols","table-data"])])])]),r.value?(m(),h(D,{key:0,show:r.value,"onUpdate:show":t[2]||(t[2]=a=>r.value=a),"form-data":i.value,onSaved:b,onClose:t[3]||(t[3]=a=>i.value=null)},null,8,["show","form-data"])):N("",!0)]),_:1})}}};export{ge as default};
