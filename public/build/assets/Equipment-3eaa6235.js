import{f as u,r as $,o as f,c as _,w as o,a as r,b as s,i as c,u as v,j as w,g,O as i}from"./app-fc313f38.js";import{_ as O}from"./AppLayout.vue_vue_type_script_setup_true_lang-87835da0.js";import{_ as N}from"./HouseSectionNav-053b6b45.js";import{_ as B}from"./LogerButton-370ed8f9.js";import{_ as E}from"./CustomTable-71b7dae3.js";import{o as j,_ as V}from"./occurrenceCols-a395fe26.js";import{N as A}from"./Dropdown-1335b583.js";import"./atmosphere-ui-5b718e83.js";import"./isMobile-3d69cdae.js";import"./formatMoney-da670e0a.js";import"./index-975c57c9.js";import"./_plugin-vue_export-helper-c27b6911.js";import"./AppIcon-36bb04e5.js";/* empty css                                                */import"./Modal-ca404241.js";/* empty css                                              */import"./LogerInput-2f23c230.js";import"./SectionNav-7e8b141c.js";import"./TransactionsTable-d91fffe7.js";import"./exact-math.node-672740b8.js";import"./NumberHider-888bcf03.js";import"./index-3a6f8c36.js";import"./Progress-f6cc10fb.js";import"./SectionTitle-df81ac17.js";import"./index-b8f57e29.js";const D={class:"pt-16 pb-20 pl-6 max-w-screen-2xl"},I={class:"flex flex-col items-center justify-center py-10 mx-auto mt-4 font-bold rounded-md h-92 bg-base-lvl-3 text-body-1 max-w-7xl"},M={class:"space-y-4"},S={class:"flex justify-end"},T={class:"flex h-8 overflow-hidden border rounded-lg border-primary"},q=s("button",{class:"px-2 hover:bg-base-lvl-3"},[s("i",{class:"fa fa-ellipsis-v"})],-1),pe={__name:"Equipment",props:{occurrence:{type:Array,default(){return[]}}},setup(h){const a=u(!1),d=u(null),x=()=>{i.reload()},b=e=>{i.post(`/housing/occurrence/${e}/instances`)},k=e=>{i.delete(`/housing/occurrence/${e}/instances`)},m={edit:{name:"edit",label:"Edit",handle:e=>{d.value=e,a.value=!0}},removed:{name:"removed",label:"Remove",handle:e=>{confirm(`Are you sure you want to delete this check ${e.name}?`)&&i.delete(`/housing/occurrence/${e.id}`)}}},y=e=>Object.values(m).filter(t=>!t.hide),C=(e,t)=>{m[e].handle(t)};return(e,t)=>{const p=$("Button");return f(),_(O,{title:"Occurrence Checks"},{header:o(()=>[r(N,null,{actions:o(()=>[s("div",null,[r(B,{variant:"inverse",onClick:t[0]||(t[0]=n=>a.value=!a.value)},{default:o(()=>[c(" Add Check ")]),_:1})])]),_:1})]),default:o(()=>[s("div",D,[s("div",I,[s("div",M,[r(E,{cols:v(j),"show-prepend":!0,"table-data":h.occurrence},{actions:o(({scope:{row:n}})=>[s("div",S,[s("div",T,[r(p,{class:"flex items-center p-4 text-white bg-primary",onClick:l=>b(n.id)},{default:o(()=>[c(" + ")]),_:2},1032,["onClick"]),r(p,{class:"flex items-center p-4 text-primary",onClick:l=>k(n.id)},{default:o(()=>[c(" - ")]),_:2},1032,["onClick"])]),r(v(A),{trigger:"click","key-field":"name",options:y(n),"on-select":l=>C(l,n),onClick:t[1]||(t[1]=w(()=>{},["stop"]))},{default:o(()=>[q]),_:2},1032,["options","on-select"])])]),_:1},8,["cols","table-data"])])])]),a.value?(f(),_(V,{key:0,show:a.value,"onUpdate:show":t[2]||(t[2]=n=>a.value=n),"form-data":d.value,onSaved:x},null,8,["show","form-data"])):g("",!0)]),_:1})}}};export{pe as default};
