import{a4 as T,r as $,q as x,o,c as i,d as e,i as f,t as l,a as d,b as _,f as c,F as g,h as v,g as k,k as M,n as b,a1 as D,e as S,s as E,ac as O,E as q}from"./app.cefd7668.js";import{u as B,_ as I}from"./AppLayout.cd77f56f.js";import{Z as W}from"./atmosphere-ui.588c294c.js";import{_ as w}from"./SectionTitle.23b660a7.js";/* empty css                                              */import{f as C}from"./formatMoney.a91b934f.js";import{aa as R,ab as z,ac as F,a7 as P,a6 as V}from"./index.de789d8e.js";import{_ as L}from"./exact-math.node.6f837759.js";import{u as G}from"./useCollapse.f5ae3b3d.js";import{C as Y}from"./ChartComparison.64c46d70.js";import{_ as N}from"./LogerButton.0789417e.js";import"./_plugin-vue_export-helper.cdc0426e.js";import"./Modal.a2277346.js";import"./LogerInput.bec0734e.js";import"./LogerChart.268f3f49.js";import"./index.4ea4832e.js";import"./index.341cb78b.js";import"./index.557802c7.js";var Z=6e4;function U(a,t){R(2,arguments);var s=F(t);return z(a,s*Z)}const H={class:"px-5 py-3 transition border divide-y rounded-lg shadow-xl divide-base border-base bg-base-lvl-3"},J={class:"items-center pb-2 md:justify-between md:flex"},K={class:"font-bold text-body"},Q={class:"text-primary"},X={class:"space-x-2"},ee=e("i",{class:"fa fa-wallet"},null,-1),te=f(" Edit budget "),se={class:"flex py-3"},ae=["onClick"],re={class:"text-body"},oe={class:"relative w-72"},ne={class:"relative w-72"},le={__name:"BudgetTracker",props:{username:{type:String,required:!0},budget:{type:Number},expenses:{type:Array},message:{default:"Welcome to Loger"}},setup(a){const t=a,{t:s}=T();P(),$(null);const n=x(()=>({expenses:{label:s("Current Expenses"),value:t.expenses},budget:{label:s("Monthly Budget"),value:t.budget}})),h=m=>Array.isArray(m);return(m,p)=>(o(),i("div",H,[e("div",J,[e("h1",K,[f(l(a.message)+" ",1),e("span",Q,l(a.username),1)]),e("div",X,[d(c(W),{class:"text-sm text-primary",rounded:"",onClick:p[0]||(p[0]=r=>m.$inertia.visit(m.route("budgets.index")))},{default:_(()=>[ee,te]),_:1})])]),e("div",se,[(o(!0),i(g,null,v(c(n),(r,y)=>(o(),i("div",{class:"w-full transition cursor-pointer hover:opacity-75",onClick:u=>m.$emit("section-click",y),key:y},[e("h4",re,l(r.label),1),h(r.value)?(o(),k(w,{key:0,class:"flex flex-col mt-2 space-y-2"},{default:_(()=>[(o(!0),i(g,null,v(r.value,u=>(o(),i("span",oe,[d(L),f(" "+l(c(C)(u.total,u.currency_code)),1)]))),256))]),_:2},1024)):(o(),k(w,{key:1,class:"mt-2"},{default:_(()=>[e("span",ne,[d(L),f(" "+l(c(C)(r.value)),1)])]),_:2},1024))],8,ae))),128))]),M(m.$slots,"default")]))}},ie=f(" Onboarding "),de={key:0,class:"space-y-2"},ce={class:"w-full ml-4"},ue={class:"font-bold text-body-1"},me={class:"text-body"},pe={__name:"OnboardingSteps",props:{steps:{type:Array,default(){return[]}}},setup(a){const t=$(),{isCollapsed:s,toggleCollapse:n,icon:h}=G(t,!1);return(m,p)=>(o(),i("div",{class:b(["space-y-2 border border-transparent rounded bg-base-lvl-3 shadow-xl",{"pb-4":c(s)}]),ref_key:"collapsable",ref:t},[e("header",{class:"flex items-center justify-between px-4 py-2 cursor-pointer",onClick:p[0]||(p[0]=r=>c(n)())},[d(w,{type:"secondary"},{default:_(()=>[ie]),_:1}),e("i",{class:b(c(h))},null,2)]),c(s)?S("",!0):(o(),i("div",de,[(o(!0),i(g,null,v(a.steps,r=>(o(),i("div",{class:"flex p-4 space-x-4 border rounded-md cursor-pointer border-base-lvl-3/80 group flex-nowrap bg-base-lvl-3",key:r.name},[e("div",{class:b(["flex items-center justify-center w-10 h-10 transition-all border rounded-md group-hover:border-primary group-hover:text-primary",[r.complete?"border-slate-300 text-slate-300":"text-primary border-primary  shadow-primary/20"]])},[e("i",{class:b(r.icon)},null,2)],2),e("div",ce,[e("h1",ue,l(r.label),1),e("p",me,l(r.description),1),d(c(D),{href:r.link,class:"mt-2 text-sm text-body-1 group-hover:text-primary/80"},{default:_(()=>[f(l(r.cta),1)]),_:2},1032,["href"])])]))),128))]))],2))}},fe={class:"flex items-center justify-between px-4 py-3 rounded-lg shadow-md bg-base-lvl-3"},_e={class:"flex items-center h-10 text-lg text-center capitalize text-secondary"},ye={class:"flex justify-between"},he={__name:"RandomMealCard",props:{show:{default:!1},maxWidth:{default:"2xl"},closeable:{default:!0},meals:{type:Array,default(){return[]}},date:{default:new Date},title:{type:String}},emits:["close"],setup(a){const t=E({meal:null,isLoading:!1,mealName:x(()=>t.meal&&t.meal.name),label:x(()=>{var n;return t.isLoading?"Loading...":(n=t.mealName)!=null?n:"Get random meal"})}),s=()=>{t.isLoading||(t.meal=null,t.isLoading=!0,O.get("/meals-random").then(({data:n})=>{t.meal=n}).finally(()=>{t.isLoading=!1}))};return(n,h)=>(o(),i("div",fe,[e("div",_e,[e("span",null,l(t.label),1)]),e("div",ye,[d(N,{variant:"inverse",class:"rounded-full",onClick:s,disabled:t.isLoading},{default:_(()=>[e("i",{class:b(["fa fa-sync",[t.isLoading?"fa-spin":""]])},null,2)]),_:1},8,["disabled"])])]))}},be={class:"pb-10 space-y-5"},xe={class:"px-4 py-2 space-y-4 rounded-md shadow-xl cursor-pointer min-h-min bg-base-lvl-3"},ge={class:"font-bold capitalize text-body-1"},ve={class:"capitalize text-primary"},we={key:1,class:"py-1.5 text-center"},$e={class:"py-1 text-2xl font-bold text-body-1"},ke={__name:"MealWidget",props:{meals:{type:Array,required:!0}},setup(a){return(t,s)=>(o(),i("div",be,[d(w,{type:"secondary"},{default:_(()=>[f(l(t.t("Menu for today")),1)]),_:1}),d(he),e("div",xe,[a.meals.length?(o(!0),i(g,{key:0},v(a.meals,n=>(o(),i("div",{key:n.id},[e("h4",ge,l(n.name),1),e("small",ve,l(n.mealTypeName),1)]))),128)):(o(),i("div",we,[e("h4",$e,l(t.t("No meals")),1),d(N,{variant:"inverse"},{default:_(()=>[f(l(t.t("Go to planner")),1)]),_:1})]))])]))}},Ce={class:"space-y-2 border border-transparent rounded bg-base-lvl-3 p-4 shadow-xl"},Le={class:"flex justify-between items-center"},Te={class:"text-secondary font-bold text-sm"},Ne={class:"flex"},Ae=["src"],je=e("h4",{class:"text-secondary font-bold text-4xl relative"},[f("28"),e("span",{class:"text-sm absolute"},"C\xBA")],-1),Me={class:"text-body-1/80"},De={__name:"ClimateWidget",setup(a){const t="https://fcc-weather-api.glitch.me/api/current?",s=B("loger::climate",{name:"",main:{},visibility:0,wind:{},weather:[],data:{},expireTime:0,lastFetch:0}),n=x(()=>s.value.weather.length&&s.value.weather[0].icon),h=x(()=>s.value.weather.length&&s.value.weather[0].description),m=V(new Date,"iiii"),p=y=>{Object.keys(s.value).forEach(u=>{s.value[u]=y[u]||s.value[u]}),s.value.expireTime=U(new Date,15),s.value.lastFetch=new Date},r=({coords:{latitude:y,longitude:u}})=>{const A=`lat=${y}&lon=${u}`;return fetch(t+A).then(j=>j.json())};return q(()=>{s.value.expireTime<new Date&&navigator.geolocation.getCurrentPosition(async y=>{try{const u=await r(y);p(u)}catch(u){console.log(u)}})}),(y,u)=>(o(),i("section",Ce,[e("header",Le,[d(w,null,{default:_(()=>[f(l(c(s).name),1)]),_:1}),e("span",Te,l(c(m)),1)]),e("article",Ne,[e("img",{src:c(n),alt:"weather-image"},null,8,Ae),e("section",null,[je,e("p",Me,l(c(h)),1)])])]))}},Se={class:"px-5 mx-auto mt-5 space-y-10 md:space-y-0 md:space-x-10 md:flex max-w-screen-2xl sm:px-6 lg:px-8"},Ee={class:"md:w-9/12"},Oe={class:"flex space-x-4"},qe={class:"w-4/12 mt-4 mb-10 overflow-hidden bg-white shadow-xl sm:rounded-lg"},Be=e("h4",{class:"p-4 font-bold"},"Next Payments",-1),Ie={class:"space-y-4 md:w-3/12 py-4"},at={__name:"Dashboard",props:{revenue:{type:Object,default(){return{previousYear:{values:[]},currentYear:{values:[]}}}},meals:{type:Array,required:!0},user:{type:Object,required:!0},budgetTotal:{type:Number,default:0},nextPayments:{type:Array,default(){return[]}},transactionTotal:{type:Object,default:0},categories:{type:Array,default(){return[]}},accounts:{type:Array,default(){return[]}},onboarding:{type:Array,default(){return[]}}},setup(a){const t=a,s=$(null),{t:n}=T(),h=$();return(m,p)=>(o(),k(I,null,{default:_(()=>[e("div",Se,[e("div",Ee,[d(le,{class:"mt-5",ref_key:"budgetTrackerRef",ref:h,budget:a.budgetTotal,expenses:a.transactionTotal.total,message:c(n)("dashboard.welcome"),username:a.user.name,onSectionClick:p[0]||(p[0]=r=>s.value=r)},null,8,["budget","expenses","message","username"]),e("div",Oe,[d(Y,{class:"w-full mt-4 mb-10 overflow-hidden bg-white rounded-lg shadow-xl",title:c(n)("Expenses summary"),ref:"ComparisonRevenue",data:t.revenue},null,8,["title","data"]),e("div",qe,[Be,(o(!0),i(g,null,v(a.nextPayments,r=>(o(),i("div",{class:"payment",key:r.id},l(r.name),1))),128))])])]),e("div",Ie,[d(De),d(pe,{steps:a.onboarding.steps,percentage:a.onboarding.percentage,class:"mt-5"},null,8,["steps","percentage"]),d(ke,{meals:a.meals.data},null,8,["meals"])])])]),_:1}))}};export{at as default};
