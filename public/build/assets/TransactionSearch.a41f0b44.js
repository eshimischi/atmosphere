import{f as b}from"./atmosphere-ui.es.343f9b42.js";import{h as v,p as x,r as D,o as O,a as y,d as i,w as S,b as o,u as a,y as w,z as C}from"./app.c4e32cc5.js";import{t as k,_ as M}from"./formatters.c6ccf4d7.js";import{u as z,g as d}from"./index.26bcc7d9.js";import{a as V}from"./NumberHider.fca52128.js";import{s as l}from"./index.2e08e1eb.js";import{N as H}from"./Select.b9cc5204.js";const T={class:"pb-20 mt-5"},_={class:"flex items-center w-full space-x-2"},B={class:"flex text-white rounded-md bg-pink-400 h-10 min-w-max divide-x-2 divide-white overflow-hidden"},U=o("svg",{xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink","aria-hidden":"true",role:"img",class:"iconify iconify--ic",width:"32",height:"32",preserveAspectRatio:"xMidYMid meet",viewBox:"0 0 24 24"},[o("path",{fill:"currentColor",d:"M3 13h2v-2H3v2zm0 4h2v-2H3v2zm0-8h2V7H3v2zm4 4h14v-2H7v2zm0 4h14v-2H7v2zM7 7v2h14V7H7z"})],-1),$=[U],A=o("svg",{xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink","aria-hidden":"true",role:"img",class:"iconify iconify--uim",width:"32",height:"32",preserveAspectRatio:"xMidYMid meet",viewBox:"0 0 24 24"},[o("path",{fill:"currentColor",d:"M6 23H2a1 1 0 0 1-1-1v-8a1 1 0 0 1 1-1h4a1 1 0 0 1 1 1v8a1 1 0 0 1-1 1Z",opacity:".25"}),o("path",{fill:"currentColor",d:"M14 23h-4a1 1 0 0 1-1-1V2a1 1 0 0 1 1-1h4a1 1 0 0 1 1 1v20a1 1 0 0 1-1 1Z"}),o("path",{fill:"currentColor",d:"M22 23h-4a1 1 0 0 1-1-1V10a1 1 0 0 1 1-1h4a1 1 0 0 1 1 1v12a1 1 0 0 1-1 1Z",opacity:".5"})],-1),E=[A],G={props:{transactions:{type:Array,default:()=>[]},serverSearchOptions:{type:Object,default:()=>({})},title:{type:String,default:"s"}},setup(p){var m,f;const c=p,e=v({filterOptions:[{label:"Accounts",value:"accounts"},{label:"Descriptions",value:"description"}],searchOptions:{group:"",date:{startDate:null,endDate:null}},date:l(((f=(m=c.serverSearchOptions)==null?void 0:m.date)==null?void 0:f.startDate)||new Date),dateSpan:null,listType:"table"});x(()=>e.searchOptions,()=>{z(e.searchOptions,e.dateSpan)},{deep:!0}),Object.entries(c.serverSearchOptions).forEach(([r,t])=>{r==="date"?(e.searchOptions.date.startDate=l(d(t.startDate)),e.searchOptions.date.endDate=l(d(t.endDate)),e.date=l(d(t.startDate))):e.searchOptions[r]=Object.values(e.filterOptions).map(s=>s.value).includes(t)?t:""});const u=r=>e.listType==r,n=D(!1),h=v({recurrence:!1,automatic:!1,transactionData:null}),g=r=>{h.transactionData=r,n.value=!0};return(r,t)=>(O(),y("div",T,[i(M,{"table-label":"",class:"pt-3 mt-5","table-class":"overflow-auto bg-slate-600 border rounded-lg shadow-md mt-5","allow-select":"","show-sum":"",transactions:p.transactions,parser:a(k),onEdit:g},{action:S(()=>[o("div",_,[i(a(b),{class:"h-12 w-full bg-slate-600 text-gray-200 border-none",modelValue:a(e).date,"onUpdate:modelValue":t[0]||(t[0]=s=>a(e).date=s),dateSpan:a(e).dateSpan,"onUpdate:dateSpan":t[1]||(t[1]=s=>a(e).dateSpan=s),startDate:a(e).searchOptions.date.startDate,"onUpdate:startDate":t[2]||(t[2]=s=>a(e).searchOptions.date.startDate=s),endDate:a(e).searchOptions.date.endDate,"onUpdate:endDate":t[3]||(t[3]=s=>a(e).searchOptions.date.endDate=s),controlsClass:"bg-transparent text-gray-200 hover:bg-slate-600","next-mode":"month"},null,8,["modelValue","dateSpan","startDate","endDate"]),i(a(H),{filterable:"",clearable:"",size:"large",placeholder:"Group by",options:a(e).filterOptions,value:a(e).searchOptions.group,"onUpdate:value":t[4]||(t[4]=s=>a(e).searchOptions.group=s)},null,8,["options","value"]),o("div",B,[o("button",{class:w(["px-5",{"bg-pink-700":u("table")}]),onClick:t[5]||(t[5]=s=>a(e).listType="table")},$,2),o("button",{class:w(["px-5",{"bg-pink-700":u("graph")}]),onClick:t[6]||(t[6]=s=>a(e).listType="graph")},E,2)])])]),_:1},8,["transactions","parser"]),i(V,C({onClose:t[7]||(t[7]=s=>n.value=!1)},a(h),{show:n.value,"onUpdate:show":t[8]||(t[8]=s=>n.value=s)}),null,16,["show"])]))}};export{G as _};
