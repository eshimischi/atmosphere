import{J as M}from"./ActionMessage.4b08d72d.js";import{_ as N}from"./ActionSection.4ee9e188.js";import{J as w}from"./Button.cdbb2fb8.js";import{J as U}from"./ConfirmationModal.89bb72f7.js";import{J as j}from"./DangerButton.838b08b8.js";import{J as T}from"./DialogModal.66d3fddc.js";import{J as E}from"./FormSection.dc768c13.js";import{J as L}from"./Input.3189304c.js";import{I as z,a3 as W,o as l,a,W as x,r as b,d as t,w as s,b as i,i as k,u as n,F as C,e as J,y as P,t as h,f as r}from"./app.c4e32cc5.js";import{_ as Y}from"./plugin-vue_export-helper.21dcd24c.js";import{J as q}from"./InputError.4e908049.js";import{_ as $}from"./Label.d85f9a67.js";import{J as A}from"./SecondaryButton.9c7b98b2.js";import{J as G}from"./SectionBorder.ff15222a.js";import"./SectionTitle.f0e58d40.js";import"./Modal.50d5072f.js";const H={emits:["update:checked"],props:{checked:{type:[Array,Boolean],default:!1},value:{default:null}},computed:{proxyChecked:{get(){return this.checked},set(c){this.$emit("update:checked",c)}}}},K=["value"];function O(c,y,d,m,g,p){return z((l(),a("input",{type:"checkbox",value:d.value,"onUpdate:modelValue":y[0]||(y[0]=u=>p.proxyChecked=u),class:"rounded border-gray-300 text-indigo-600 shadow-sm focus:border-indigo-300 focus:ring focus:ring-indigo-200 focus:ring-opacity-50"},null,8,K)),[[W,p.proxyChecked]])}var S=Y(H,[["render",O]]);const Q={class:"col-span-6 sm:col-span-4"},R={key:0,class:"col-span-6"},X={class:"mt-2 grid grid-cols-1 md:grid-cols-2 gap-4"},Z={class:"flex items-center"},ee={class:"ml-2 text-sm"},se=r(" Created. "),te=r(" Create "),oe={key:0},ne={class:"mt-10 sm:mt-0"},le=r(" Manage API Tokens "),ae=r(" You may delete any of your existing tokens if they are no longer needed. "),ie={class:"space-y-6"},re={class:"flex items-center"},de={key:0,class:"text-sm text-gray-300"},ce=["onClick"],ue=["onClick"],me=r(" API Token "),pe=i("div",null," Please copy your new API token. For your security, it won't be shown again. ",-1),fe={key:0,class:"mt-4 bg-gray-100 px-4 py-2 rounded font-mono text-sm text-gray-500"},ve=r(" Close "),_e=r(" API Token Permissions "),ke={class:"grid grid-cols-1 md:grid-cols-2 gap-4"},he={class:"flex items-center"},ge={class:"ml-2 text-sm text-gray-200"},ye=r(" Cancel "),xe=r(" Save "),be=r(" Delete API Token "),Ce=r(" Are you sure you would like to delete this API token? "),Je=r(" Cancel "),Pe=r(" Delete "),ze={props:["tokens","availablePermissions","defaultPermissions"],setup(c){const d=x({name:"",permissions:c.defaultPermissions}),m=x({permissions:[]}),g=x(),p=b(!1),u=b(null),v=b(null),I=()=>{d.post(route("api-tokens.store"),{preserveScroll:!0,onSuccess:()=>{p.value=!0,d.reset()}})},B=f=>{m.permissions=f.abilities,u.value=f},D=()=>{m.put(route("api-tokens.update",u.value),{preserveScroll:!0,preserveState:!0,onSuccess:()=>u.value=null})},F=f=>{v.value=f},V=()=>{g.delete(route("api-tokens.destroy",v.value),{preserveScroll:!0,preserveState:!0,onSuccess:()=>v.value=null})};return(f,o)=>(l(),a("div",null,[t(E,{title:"Create API Token",description:"API tokens allow third-party services to authenticate with our application on your behalf.",onSubmitted:I},{form:s(()=>[i("div",Q,[t($,{for:"name",value:"Name"}),t(L,{id:"name",type:"text",class:"mt-1 block w-full",modelValue:n(d).name,"onUpdate:modelValue":o[0]||(o[0]=e=>n(d).name=e),autofocus:""},null,8,["modelValue"]),t(q,{message:n(d).errors.name,class:"mt-2"},null,8,["message"])]),c.availablePermissions.length>0?(l(),a("div",R,[t($,{for:"permissions",value:"Permissions"}),i("div",X,[(l(!0),a(C,null,J(c.availablePermissions,e=>(l(),a("div",{key:e},[i("label",Z,[t(S,{value:e,checked:n(d).permissions,"onUpdate:checked":o[1]||(o[1]=_=>n(d).permissions=_)},null,8,["value","checked"]),i("span",ee,h(e),1)])]))),128))])])):k("",!0)]),actions:s(()=>[t(M,{on:n(d).recentlySuccessful,class:"mr-3"},{default:s(()=>[se]),_:1},8,["on"]),t(w,{class:P({"opacity-25":n(d).processing}),disabled:n(d).processing},{default:s(()=>[te]),_:1},8,["class","disabled"])]),_:1}),c.tokens.length>0?(l(),a("div",oe,[t(G),i("div",ne,[t(N,null,{title:s(()=>[le]),description:s(()=>[ae]),content:s(()=>[i("div",ie,[(l(!0),a(C,null,J(c.tokens,e=>(l(),a("div",{class:"flex items-center justify-between",key:e.id},[i("div",null,h(e.name),1),i("div",re,[e.last_used_ago?(l(),a("div",de," Last used "+h(e.last_used_ago),1)):k("",!0),c.availablePermissions.length>0?(l(),a("button",{key:1,class:"cursor-pointer ml-6 text-sm text-gray-200 underline",onClick:_=>B(e)}," Permissions ",8,ce)):k("",!0),i("button",{class:"cursor-pointer ml-6 text-sm text-red-500",onClick:_=>F(e)}," Delete ",8,ue)])]))),128))])]),_:1})])])):k("",!0),t(T,{show:p.value,onClose:o[3]||(o[3]=e=>p.value=!1)},{title:s(()=>[me]),content:s(()=>[pe,f.$page.props.jetstream.flash.token?(l(),a("div",fe,h(f.$page.props.jetstream.flash.token),1)):k("",!0)]),footer:s(()=>[t(A,{onClick:o[2]||(o[2]=e=>p.value=!1)},{default:s(()=>[ve]),_:1})]),_:1},8,["show"]),t(T,{show:u.value,onClose:o[6]||(o[6]=e=>u.value=null)},{title:s(()=>[_e]),content:s(()=>[i("div",ke,[(l(!0),a(C,null,J(c.availablePermissions,e=>(l(),a("div",{key:e},[i("label",he,[t(S,{value:e,checked:n(m).permissions,"onUpdate:checked":o[4]||(o[4]=_=>n(m).permissions=_)},null,8,["value","checked"]),i("span",ge,h(e),1)])]))),128))])]),footer:s(()=>[t(A,{onClick:o[5]||(o[5]=e=>u.value=null)},{default:s(()=>[ye]),_:1}),t(w,{class:P(["ml-2",{"opacity-25":n(m).processing}]),onClick:D,disabled:n(m).processing},{default:s(()=>[xe]),_:1},8,["class","disabled"])]),_:1},8,["show"]),t(U,{show:v.value,onClose:o[8]||(o[8]=e=>v.value=null)},{title:s(()=>[be]),content:s(()=>[Ce]),footer:s(()=>[t(A,{onClick:o[7]||(o[7]=e=>v.value=null)},{default:s(()=>[Je]),_:1}),t(j,{class:P(["ml-2",{"opacity-25":n(g).processing}]),onClick:V,disabled:n(g).processing},{default:s(()=>[Pe]),_:1},8,["class","disabled"])]),_:1},8,["show"])]))}};export{ze as default};
