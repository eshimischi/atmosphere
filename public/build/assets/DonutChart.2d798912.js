import{g as u}from"./index.c41d124e.js";import{C as g,r as f,D as m}from"./index.024091ca.js";import{q as s,r as h,o as y,g as _,f as a}from"./app.cf37a944.js";const D={__name:"DonutChart",props:{series:{type:Array,default(){return[]}},value:{type:String},label:{type:String},legend:{type:Boolean,default:!0},legendPosition:{type:String,default:"left"},scaleType:{default:"logarithmic"},scalePosition:{type:String,default:"left"}},emits:"clicked",setup(n,{emit:l}){const t=n;g.register(...f);const i=s(()=>({labels:t.series.map(e=>e[t.label]),datasets:[{data:t.series.map(e=>e[t.value]),backgroundColor:t.series.map(()=>u()),borderJoinStyle:"mittr"}]})),o=h(),c=s(()=>({plugins:{...t.legend&&{legend:{position:t.legendPosition}},title:{display:t.title,text:t.title}},layout:{padding:20},onClick:(e,...p)=>{const r=o.value.chartInstance;console.log(r.tooltip.dataPoints);const d=r.tooltip.dataPoints[0].dataIndex;l("clicked",d)}}));return(e,p)=>(y(),_(a(m),{ref_key:"chartRef",ref:o,chartData:a(i),options:a(c)},null,8,["chartData","options"]))}};export{D as _};
