import{L as w,O as A}from"./atmosphere-ui-b819c890.js";import{B as F,C as I,q as p,o,c as d,w as n,u as t,a as i,b as f,f as v,h as b,O as r,i as _,t as L,F as y,g as N,D as V}from"./app-114b751b.js";import{_ as M}from"./AppLayout.vue_vue_type_script_setup_true_lang-c7e24bdb.js";import{_ as j}from"./TransactionSearch-04d8ffdc.js";import{u as E,_ as R,F as U}from"./useServerSearch-55d027ef.js";import{_ as q,a as z}from"./DraftButtons-c9fef7c0.js";import{_ as D}from"./LogerButton-7d66d0a8.js";import{t as G}from"./tableAccountCols-7e05d7b0.js";import{u as H}from"./isMobile-e3872359.js";import{a as J}from"./useFirebase-fe12e715.js";import{f as K}from"./formatMoney-75af80f0.js";import"./AppIcon-f342d706.js";/* empty css                                                */import"./Modal-c2871cdd.js";/* empty css                                              */import"./LogerInput-8ca4e824.js";import"./_plugin-vue_export-helper-c27b6911.js";import"./TransactionsTable-abfea9c2.js";import"./exact-math.node-ab123f44.js";import"./NumberHider-49c0aef0.js";import"./index-2052210e.js";import"./Progress-446b78be.js";import"./Dropdown-839d2ecf.js";import"./SectionTitle-20b8f2ca.js";import"./vue-draggable-next.esm-bundler-3a2dc928.js";import"./constants-cb26b0c1.js";import"./WidgetCard-f1e3a88f.js";import"./SectionNav-dd96bdd5.js";import"./CustomTable-970a440a.js";const P={class:"flex items-center w-full space-x-2"},Q={class:"flex space-x-4 mt-4"},gt={__name:"Account",props:{transactions:{type:Object,default:()=>({data:[]})},stats:{type:Object,default:()=>({data:[]})},accounts:{type:Array,default:()=>[]},categories:{type:Array,default(){return[]}},serverSearchOptions:{type:Object,default:()=>({})},accountId:{type:[Number,null]}},setup(c){const m=c,{openTransactionModal:h}=H(),{serverSearchOptions:u,accountId:x}=F(m),{state:l}=E(u);I("selectedAccountId",x);const k=J(),S=p(()=>k.isMobile?j:q),C=p(()=>{var e;return((e=u.value.filters)==null?void 0:e.status)=="draft"}),$=e=>{r.delete(`/transactions/${e.id}`,{onSuccess(){r.reload()}})},g=e=>{r.patch(`/transactions/${e.id}/linked`,{onSuccess(){r.reload()}})},O=e=>{h({transactionData:e})},B={draft:{label:"Drafts",value:"/finance/transactions?filter[status]=draft&relationships=linked"},verified:{label:"Verified",value:"/finance/transactions?"},scheduled:{label:"Scheduled",value:"/finance/transactions?filter[status]=scheduled"}};return(e,s)=>(o(),d(M,{onBack:s[2]||(s[2]=a=>t(r).visit("/finance/transactions")),"show-back-button":!0},{header:n(()=>[i(R,null,{actions:n(()=>[f("div",P,[(o(),v(y,null,b(B,(a,T)=>i(D,{variant:"inverse",class:"",key:T,onClick:W=>t(r).visit(a.value)},{default:n(()=>[_(L(a.label),1)]),_:2},1032,["onClick"])),64)),i(t(w),{class:"w-full h-12 border-none bg-base-lvl-1 text-body",startDate:t(l).dates.startDate,"onUpdate:startDate":s[0]||(s[0]=a=>t(l).dates.startDate=a),endDate:t(l).dates.endDate,"onUpdate:endDate":s[1]||(s[1]=a=>t(l).dates.endDate=a),controlsClass:"bg-transparent text-body hover:bg-base-lvl-1","next-mode":"month"},null,8,["startDate","endDate"]),i(D,{variant:"inverse"},{default:n(()=>[_(" Import Transactions ")]),_:1}),C.value?(o(),d(z,{key:0})):N("",!0)])]),_:1})]),default:n(()=>[i(U,{title:"Transactions",accounts:c.accounts},{default:n(()=>[f("div",Q,[(o(!0),v(y,null,b(c.stats,a=>(o(),d(t(A),{class:"w-full text-body-1 cursor-pointer bg-base-lvl-3",value:t(K)(a)},null,8,["value"]))),256))]),(o(),d(V(S.value),{cols:t(G)(m.accountId),transactions:c.transactions,"server-search-options":t(u),onFindLinked:g,onRemoved:$,onEdit:O},null,40,["cols","transactions","server-search-options"]))]),_:1},8,["accounts"])]),_:1}))}};export{gt as default};
