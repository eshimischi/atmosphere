import{a4 as L,r as k,q as g,o as n,c as o,d as e,i as _,t as i,a as u,b as p,f as d,F as v,h as $,g as x,k as M,n as b,a1 as O,e as A,s as E,ac as I,D as P}from"./app.d8e74fa3.js";import{a as S,u as W,_ as B}from"./AppLayout.9d561a06.js";import{Z as q}from"./atmosphere-ui.87ba2c0a.js";import{_ as w}from"./SectionTitle.5007996d.js";/* empty css                                              */import{f as C}from"./formatMoney.a91b934f.js";import{ab as R,ac as z,ad as F,a7 as V,a6 as G}from"./naiveui.0ad5ca37.js";import{_ as N,a as Y}from"./WidgetCard.e29b5449.js";import{u as Z}from"./useCollapse.91d15f02.js";import{C as U}from"./ChartComparison.002ce58d.js";import"./_plugin-vue_export-helper.cdc0426e.js";import"./Modal.36144344.js";import"./LogerInput.c4e88f46.js";import"./LogerChart.c63bf016.js";import"./index.a33f79b6.js";import"./index.9c3fb553.js";import"./index.0c0b7522.js";var H=6e4;function J(s,t){R(2,arguments);var a=F(t);return z(s,a*H)}const K={class:"items-center pb-2 md:justify-between md:flex"},Q={class:"font-bold text-body"},X={class:"text-primary"},ee={class:"space-x-2"},te=e("i",{class:"fa fa-wallet"},null,-1),se=_(" Edit budget "),ae={class:"flex py-3"},ne=["onClick"],re={class:"text-body"},le={class:"relative w-72"},oe={class:"relative w-72"},ie={__name:"BudgetTracker",props:{username:{type:String,required:!0},budget:{type:Number},expenses:{type:Array},message:{default:"Welcome to Loger"}},setup(s){const t=s,{t:a}=L();V(),k(null);const r=g(()=>({expenses:{label:a("Current Expenses"),value:t.expenses},budget:{label:a("Monthly Budget"),value:t.budget}})),h=m=>Array.isArray(m);return(m,f)=>(n(),o("div",{class:b(["px-5 py-3 transition border divide-y rounded-lg divide-base border-base bg-base-lvl-3",[m.cardShadow]])},[e("div",K,[e("h1",Q,[_(i(s.message)+" ",1),e("span",X,i(s.username),1)]),e("div",ee,[u(d(q),{class:"text-sm text-primary",rounded:"",onClick:f[0]||(f[0]=l=>m.$inertia.visit(m.route("budgets.index")))},{default:p(()=>[te,se]),_:1})])]),e("div",ae,[(n(!0),o(v,null,$(d(r),(l,y)=>(n(),o("div",{class:"w-full transition cursor-pointer hover:opacity-75",onClick:c=>m.$emit("section-click",y),key:y},[e("h4",re,i(l.label),1),h(l.value)?(n(),x(w,{key:0,class:"flex flex-col mt-2 space-y-2"},{default:p(()=>[(n(!0),o(v,null,$(l.value,c=>(n(),o("span",le,[u(N),_(" "+i(d(C)(c.total,c.currency_code)),1)]))),256))]),_:2},1024)):(n(),x(w,{key:1,class:"mt-2"},{default:p(()=>[e("span",oe,[u(N),_(" "+i(d(C)(l.value)),1)])]),_:2},1024))],8,ne))),128))]),M(m.$slots,"default")],2))}},de=_(" Onboarding "),ce={key:0,class:"space-y-2"},ue={class:"w-full ml-4"},me={class:"font-bold text-body-1"},pe={class:"text-body"},ye={__name:"OnboardingSteps",props:{steps:{type:Array,default(){return[]}}},setup(s){const t=k(),{isCollapsed:a,toggleCollapse:r,icon:h}=Z(t,!1);return(m,f)=>(n(),o("div",{class:b(["space-y-2 border border-transparent rounded bg-base-lvl-3 shadow-xl",{"pb-4":d(a)}]),ref_key:"collapsable",ref:t},[e("header",{class:"flex items-center justify-between px-4 py-2 cursor-pointer",onClick:f[0]||(f[0]=l=>d(r)())},[u(w,{type:"secondary"},{default:p(()=>[de]),_:1}),e("i",{class:b(d(h))},null,2)]),d(a)?A("",!0):(n(),o("div",ce,[(n(!0),o(v,null,$(s.steps,l=>(n(),o("div",{class:"flex px-4 py-1.5 space-x-4 border rounded-md cursor-pointer border-base-lvl-3/80 group flex-nowrap bg-base-lvl-3",key:l.name},[e("div",{class:b(["flex items-center justify-center w-10 h-10 transition-all border rounded-md group-hover:border-primary group-hover:text-primary",[l.complete?"border-slate-300 text-slate-300":"text-primary border-primary  shadow-primary/20"]])},[e("i",{class:b(l.icon)},null,2)],2),e("div",ue,[e("h1",me,i(l.label),1),e("p",pe,i(l.description),1),u(d(O),{href:l.link,class:"mt-2 text-sm text-body-1 group-hover:text-primary/80"},{default:p(()=>[_(i(l.cta),1)]),_:2},1032,["href"])])]))),128))]))],2))}},fe={class:"flex items-center justify-between px-4 py-3 rounded-lg bg-base-lvl-3"},_e={class:"flex items-center h-10 text-lg text-center capitalize text-secondary"},be={class:"flex justify-between"},he={__name:"RandomMealCard",props:{show:{default:!1},maxWidth:{default:"2xl"},closeable:{default:!0},meals:{type:Array,default(){return[]}},date:{default:new Date},title:{type:String}},emits:["close"],setup(s){const t=E({meal:null,isLoading:!1,mealName:g(()=>t.meal&&t.meal.name),label:g(()=>{var r;return t.isLoading?"Loading...":(r=t.mealName)!=null?r:"Get random meal"})}),a=()=>{t.isLoading||(t.meal=null,t.isLoading=!0,I.get("/meals-random").then(({data:r})=>{t.meal=r}).finally(()=>{t.isLoading=!1}))};return(r,h)=>(n(),o("div",fe,[e("div",_e,[e("span",null,i(t.label),1)]),e("div",be,[u(S,{variant:"inverse",class:"rounded-full",onClick:a,disabled:t.isLoading},{default:p(()=>[e("i",{class:b(["fa fa-sync",[t.isLoading?"fa-spin":""]])},null,2)]),_:1},8,["disabled"])])]))}},xe={class:"px-4 py-2 space-y-4 rounded-b-md cursor-pointer min-h-min bg-base-lvl-3"},ge={class:"text-center"},ve={class:"font-bold capitalize text-body-1"},$e={class:"capitalize text-primary"},we={key:1,class:"py-1.5 text-center"},ke={class:"py-1 text-2xl font-bold text-body-1"},Ce={__name:"MealWidget",props:{meals:{type:Array,default(){return[]}}},setup(s){return(t,a)=>(n(),o("div",{class:b(["pb-10",t.cardShadow])},[u(he,{class:"rounded-b-none border-b mt-4"}),e("div",xe,[e("div",ge,[u(w,{type:"secondary"},{default:p(()=>[_(i(t.t("Menu for today")),1)]),_:1})]),s.meals.length?(n(!0),o(v,{key:0},$(s.meals,r=>(n(),o("div",{key:r.id},[e("h4",ve,i(r.name),1),e("small",$e,i(r.mealTypeName),1)]))),128)):(n(),o("div",we,[e("h4",ke,i(t.t("No meals")),1),u(S,{variant:"inverse"},{default:p(()=>[_(i(t.t("Go to planner")),1)]),_:1})]))])],2))}},Ne=["src"],Te={class:"text-secondary font-bold text-4xl relative"},Le=e("span",{class:"text-sm absolute"},"C\xBA",-1),Ae={__name:"ClimateWidget",setup(s){const t="https://fcc-weather-api.glitch.me/api/current?",a=W("loger::climate",{name:"",main:{},visibility:0,wind:{},weather:[],data:{},expireTime:0,lastFetch:0}),r=g(()=>a.value.weather.length&&a.value.weather[0].icon),h=g(()=>a.value.weather.length&&a.value.weather[0].description),m=G(new Date,"iiii"),f=y=>{Object.keys(a.value).forEach(c=>{a.value[c]=y[c]||a.value[c]}),a.value.expireTime=J(new Date,15),a.value.lastFetch=new Date},l=({coords:{latitude:y,longitude:c}})=>{const j=`lat=${y}&lon=${c}`;return fetch(t+j).then(D=>D.json())};return P(()=>{a.value.expireTime<new Date&&navigator.geolocation.getCurrentPosition(async y=>{try{const c=await l(y);f(c)}catch(c){console.log(c)}})}),(y,c)=>(n(),x(Y,{title:d(a).name,subtitle:d(m),"value-description":d(h)},{leftTitle:p(()=>[e("img",{src:d(r),alt:"weather-image"},null,8,Ne)]),default:p(()=>[e("h4",Te,[_(i(d(a).main.temp),1),Le])]),_:1},8,["title","subtitle","value-description"]))}},Se={class:"payment px-4 flex justify-between"},je={class:"text-sm text-body-1/80"},De=e("div",null,[e("span",{class:"text-secondary bg-secondary/10 px-4 rounded-3xl py-1.5 text-xs"}," Due in 2 days ")],-1),Me={__name:"NextPaymentItem",props:{payment:{type:Object}},setup(s){return(t,a)=>(n(),o("section",Se,[e("div",null,[u(w,null,{default:p(()=>[_(i(d(C)(s.payment.amount)),1)]),_:1}),e("span",je,i(s.payment.name),1)]),De]))}},Oe=e("h4",{class:"p-4 font-bold"},"Next Payments",-1),Ee={class:"space-y-2"},T={__name:"NextPaymentsWidget",props:{payments:{type:Array,default(){return[]}}},setup(s){return(t,a)=>(n(),o("div",{class:b(["mt-4 mb-10 overflow-hidden bg-white sm:rounded-lg",t.cardShadow])},[Oe,e("section",Ee,[(n(!0),o(v,null,$(s.payments,r=>(n(),x(Me,{key:r.id,payment:r},null,8,["payment"]))),128))])],2))}},Ie={class:"px-5 mx-auto mt-5 space-y-10 md:space-y-0 md:space-x-10 md:flex max-w-screen-2xl sm:px-6 lg:px-8"},Pe={class:"md:w-9/12"},We={class:"flex space-x-4"},Be={class:"space-y-4 md:w-3/12 py-6"},at={__name:"Dashboard",props:{revenue:{type:Object,default(){return{previousYear:{values:[]},currentYear:{values:[]}}}},meals:{type:Array,required:!0},user:{type:Object,required:!0},budgetTotal:{type:Number,default:0},nextPayments:{type:Array,default(){return[]}},transactionTotal:{type:Object,default:0},categories:{type:Array,default(){return[]}},accounts:{type:Array,default(){return[]}},onboarding:{type:Array,default(){return[]}}},setup(s){const t=s,a=k(null),{t:r}=L(),h=k();return(m,f)=>(n(),x(B,null,{default:p(()=>{var l;return[e("div",Ie,[e("div",Pe,[u(ie,{class:"mt-5",ref_key:"budgetTrackerRef",ref:h,budget:s.budgetTotal,expenses:s.transactionTotal.total,message:d(r)("dashboard.welcome"),username:s.user.name,onSectionClick:f[0]||(f[0]=y=>a.value=y)},null,8,["budget","expenses","message","username"]),e("div",We,[u(U,{class:b(["w-full mt-4 mb-10 overflow-hidden bg-white rounded-lg",[m.cardShadow]]),title:d(r)("Expenses summary"),ref:"ComparisonRevenue",data:t.revenue},null,8,["class","title","data"]),s.onboarding.steps?(n(),x(T,{key:0,class:"w-4/12",payments:s.nextPayments},null,8,["payments"])):A("",!0)])]),e("div",Be,[u(Ae),s.onboarding.steps?(n(),x(ye,{key:0,steps:s.onboarding.steps,percentage:s.onboarding.percentage,class:"mt-5"},null,8,["steps","percentage"])):(n(),x(T,{key:1,class:"w-full",payments:s.nextPayments},null,8,["payments"])),u(Ce,{meals:(l=s.meals)==null?void 0:l.data},null,8,["meals"])])])]}),_:1}))}};export{at as default};
