import{s as v,q as x,o as r,g as A,b as l,a as c,d as s,c as d,h as u,t as a,f as k,F as p,i as w,G as b,a6 as C}from"./app.cf37a944.js";import{_ as I,a as M}from"./AppLayout.d865f89d.js";import{_ as S}from"./AutomationModal.dc1c412e.js";import{_ as $}from"./SettingsSectionNav.ceb6d561.js";import"./atmosphere-ui.df5681b0.js";import"./_plugin-vue_export-helper.cdc0426e.js";import"./naiveui.c9ccbfb7.js";import"./Modal.0d748749.js";/* empty css                                              */import"./LogerInput.572fb66a.js";import"./SectionNav.5be3a928.js";const O=w(" Add Automation "),B={class:"py-12 pt-32 h-auto mx-auto space-y-4 max-w-7xl sm:px-6 lg:px-8"},L=["onClick"],N=["src"],V={class:"ml-5"},F={class:"ml-2"},G={class:"w-full integrations-form"},T={class:"left"},q={class:"head"},D={class:"tagline"},E={class:"text-right automations"},j=s("div",{class:"text-right options"},"options",-1),tt={__name:"Integrations",props:{services:{type:Array,default(){return[]}},integrations:{type:Array,default(){return[]}},recipes:{type:Array,default(){return[]}},tasks:{type:Array,default(){return[]}}},setup(o){const m=o,i=v({showAddConnection:!1,authInstance:null,isAutomationModalOpen:!1,openedAutomation:{}}),_=(e,n)=>{i.isAutomationModalOpen=!0,i.openedAutomation={board:e,stage:n}},g=()=>{b(()=>{i.isAutomationModalOpen=!1,C.Inertia.reload("/integrations",{only:["integrations"],preserveState:!0})})},h=e=>{switch(e.name.toLowerCase()){case"google":case"gmail":y(e.name.toLowerCase());break}},f=x(()=>m.services.filter(e=>e.type=="external")),y=()=>{const e=m.services.find(t=>t.name="Google"),n={service_id:e.id,service_name:e.name};axios({url:"/services/google",method:"post",data:{credentials:n}}).then(({data:t})=>{location.href=t})};return(e,n)=>(r(),A(I,{title:"Settings - Integrations"},{header:l(()=>[c($,null,{actions:l(()=>[c(M,{variant:"inverse",class:"text-white bg-primary",onClick:_},{default:l(()=>[O]),_:1})]),_:1})]),default:l(()=>[s("div",B,[(r(!0),d(p,null,u(k(f),t=>(r(),d("div",{key:t.id,onClick:z=>h(t),class:"flex px-5 py-3 bg-base-lvl-3 rounded-md shadow-xl cursor-pointer"},[s("div",null,[s("img",{src:t.logo,class:"w-9"},null,8,N)]),s("h2",V,a(t.name),1),s("p",F,a(t.description),1)],8,L))),128)),s("div",G,[(r(!0),d(p,null,u(o.integrations,t=>(r(),d("div",{class:"grid grid-cols-3 px-5 py-3 my-2 font-bold text-gray-500 bg-base-lvl-1 cursor-pointer app-service__item",key:t.id},[s("div",T,[s("div",q,a(t.name)+" "+a(t.hash),1),s("div",D,a(t.hash)+" "+a(t.created_at),1)]),s("div",E,a(t==null?void 0:t.automations.length),1),j]))),128))]),c(S,{show:i.isAutomationModalOpen,"record-data":e.openedAutomation,closeable:!0,title:"Add a new automation",services:o.services,integrations:o.integrations,recipes:o.recipes,tasks:o.tasks,type:"event",onCancel:n[0]||(n[0]=t=>i.isAutomationModalOpen=!1),onSaved:g},null,8,["show","record-data","services","integrations","recipes","tasks"])])]),_:1}))}};export{tt as default};
