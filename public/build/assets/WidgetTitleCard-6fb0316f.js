import{g as k}from"./index-2052210e.js";import"./auto-4dc61a7a.js";import{D as $}from"./index-e07a0d7b.js";import{C as f,r as S}from"./chart-eb93a947.js";import{B as x,q as g,r as B,o as n,f as c,a as _,u as b,b as o,t as u,s as l,i as D,c as w,w as N,n as y,g as d}from"./app-114b751b.js";import{Z as P}from"./atmosphere-ui-b819c890.js";const R={class:"relative"},V={class:"absolute"},W={__name:"DonutChart",props:{series:{type:Array,default(){return[]}},value:{type:String},label:{type:String},legend:{type:Boolean,default:!0},legendPosition:{type:String,default:"left"},scaleType:{default:"logarithmic"},scalePosition:{type:String,default:"left"}},emits:"clicked",setup(a,{emit:e}){const t=a;f.register(...S),f.overrides.doughnut.plugins.legend.display=!1;const{series:i}=x(t),v=g(()=>({labels:i.value.map(s=>s[t.label]),datasets:[{data:i.value.map(s=>s[t.value]),backgroundColor:i.value.map(s=>s.color||k()),borderJoinStyle:"mittr"}]})),p=B(),h=g(()=>({plugins:{...t.legend&&{legend:{position:t.legendPosition}},title:{display:t.title,text:t.title}},layout:{padding:20},onClick:(s,...m)=>{const r=p.value.chartInstance||m[1],C=r==null?void 0:r.tooltip.dataPoints[0].dataIndex;e("clicked",C)}}));return(s,m)=>(n(),c("div",R,[_(b($),{ref_key:"chartRef",ref:p,data:v.value,options:h.value},null,8,["data","options"]),o("div",V,u(s.total),1)]))}},A={class:"flex items-center justify-between pb-2"},T={class:"font-bold text-body"},j={class:"space-x-2 flex items-center"},q={class:"flex py-3"},F={__name:"WidgetTitleCard",props:{title:{type:String,required:!0},action:{type:Object}},setup(a){return(e,t)=>(n(),c("div",{class:y(["px-5 py-3 transition border divide-y rounded-lg divide-base border-base bg-base-lvl-3",e.cardShadow])},[o("div",A,[o("h1",T,[l(e.$slots,"title",{},()=>[D(u(a.title),1)])]),o("div",j,[l(e.$slots,"beforeActions"),a.action||e.$slots.action?l(e.$slots,"action",{key:0},()=>[a.action?(n(),w(b(P),{key:0,class:"text-sm text-primary",rounded:"",onClick:t[0]||(t[0]=i=>e.$emit("action"))},{default:N(()=>[o("span",null,u(a.action.label),1),a.action.iconClass?(n(),c("i",{key:0,class:y(["ml-2",a.action.iconClass])},null,2)):d("",!0)]),_:1})):d("",!0)]):d("",!0),l(e.$slots,"afterActions")])]),o("div",q,[l(e.$slots,"default")])],2))}};export{W as _,F as a};
