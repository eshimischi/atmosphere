import{_ as N}from"./AppLayout.vue_vue_type_script_setup_true_lang-87835da0.js";import{Z as A}from"./atmosphere-ui-5b718e83.js";import{s as B,f as x,p as w,o as a,e as u,b as e,i as b,t as p,a as y,w as m,u as i,O as P,F as $,h as k,c as h,q as V,n as v,k as F,g as C,x as W,y as q,z as E,m as L,l as z}from"./app-fc313f38.js";import{_ as S}from"./SectionTitle-df81ac17.js";import{_ as T}from"./NumberHider-888bcf03.js";import{f as j,_ as R}from"./formatMoney-da670e0a.js";import{r as Y,a as U,t as Z,u as G,b as H,f as J}from"./isMobile-3d69cdae.js";import{u as K}from"./useCollapse-c520c1e7.js";import{_ as Q,C as X}from"./ChartComparison-8bcea9ac.js";import{f as D,i as I}from"./index-3a6f8c36.js";import{_ as ee}from"./_plugin-vue_export-helper-c27b6911.js";import{_ as te}from"./MealWidget-37d47ded.js";import{_ as se}from"./WidgetCard-97abea05.js";import{u as ae}from"./index-975c57c9.js";import{_ as re}from"./AppIcon-36bb04e5.js";import"./Modal-ca404241.js";/* empty css                                              */import"./LogerInput-2f23c230.js";import"./LogerButton-370ed8f9.js";import"./chart-eb93a947.js";import"./index-b9ffb747.js";import"./RandomMealCard-0d48e4b5.js";/* empty css                                                */var ne=6e4;function oe(t,l){Y(2,arguments);var s=Z(l);return U(t,s*ne)}const le={class:"items-center pb-2 md:justify-between md:flex"},ie={class:"font-bold text-body"},ce={class:"text-primary"},de={class:"space-x-2"},ue=e("i",{class:"fa fa-wallet"},null,-1),pe={class:"flex py-3"},me=["onClick"],fe={class:"text-body"},ye={class:"relative w-72"},_e={__name:"BudgetTracker",props:{username:{type:String,required:!0},budget:{type:Number},expenses:{type:[Number,String]},message:{default:"Welcome to Loger"}},setup(t){const l=t,{t:s}=B();G(),x(null);const d=w(()=>({expenses:{label:s("Current Expenses"),value:l.expenses},budget:{label:s("Monthly Budget"),value:l.budget}})),r=n=>Array.isArray(n);return(n,c)=>(a(),u("div",{class:v(["px-5 py-3 transition border divide-y rounded-lg divide-base border-base bg-base-lvl-3",[n.cardShadow]])},[e("div",le,[e("h1",ie,[b(p(t.message)+" ",1),e("span",ce,p(t.username),1)]),e("div",de,[y(i(A),{class:"text-sm text-primary",rounded:"",onClick:c[0]||(c[0]=o=>i(P).visit(n.route("budgets.index")))},{default:m(()=>[ue,b(" Edit budget ")]),_:1})])]),e("div",pe,[(a(!0),u($,null,k(d.value,(o,g)=>(a(),u("div",{class:"w-full transition cursor-pointer hover:opacity-75",onClick:_=>n.$emit("section-click",g),key:g},[e("h4",fe,p(o.label),1),r(o.value)?(a(),h(S,{key:0,class:"flex flex-col mt-2 space-y-2"},{default:m(()=>[(a(!0),u($,null,k(o.value,_=>(a(),u("span",{class:"relative w-72",key:_},[y(T),b(" "+p(i(j)(_.total,_.currency_code)),1)]))),128))]),_:2},1024)):(a(),h(S,{key:1,class:"mt-2"},{default:m(()=>[e("span",ye,[y(T),b(" "+p(i(j)(o.value)),1)])]),_:2},1024))],8,me))),128))]),V(n.$slots,"default")],2))}},be={key:0,class:"space-y-2"},he={class:"w-full ml-4"},ve={class:"font-bold text-body-1"},ge={class:"text-body"},xe={__name:"OnboardingSteps",props:{steps:{type:Array,default(){return[]}}},setup(t){const l=x(),{isCollapsed:s,toggleCollapse:d,icon:r}=K(l,!1);return(n,c)=>(a(),u("div",{class:v(["space-y-2 border border-transparent rounded bg-base-lvl-3 shadow-xl",{"pb-4":i(s)}]),ref_key:"collapsable",ref:l},[e("header",{class:"flex items-center justify-between px-4 py-2 cursor-pointer",onClick:c[0]||(c[0]=o=>i(d)())},[y(S,{type:"secondary"},{default:m(()=>[b(" Onboarding ")]),_:1}),e("i",{class:v(i(r))},null,2)]),i(s)?C("",!0):(a(),u("div",be,[(a(!0),u($,null,k(t.steps,o=>(a(),u("div",{class:"flex px-4 py-1.5 space-x-4 border rounded-md cursor-pointer border-base-lvl-3/80 group flex-nowrap bg-base-lvl-3",key:o.name},[e("div",{class:v(["flex items-center justify-center w-10 h-10 transition-all border rounded-md group-hover:border-primary group-hover:text-primary",[o.complete?"border-slate-300 text-slate-300":"text-primary border-primary  shadow-primary/20"]])},[e("i",{class:v(o.icon)},null,2)],2),e("div",he,[e("h1",ve,p(o.label),1),e("p",ge,p(o.description),1),y(i(F),{href:o.link,class:"mt-2 text-sm text-body-1 group-hover:text-primary/80"},{default:m(()=>[b(p(o.cta),1)]),_:2},1032,["href"])])]))),128))]))],2))}};const we=t=>(q("data-v-56553709"),t=t(),E(),t),$e={class:"w-full comparison-card"},ke={class:"px-5 pb-10 rounded-lg"},Ce={class:"p-4 font-bold text-left card-title"},Se=we(()=>e("i",{class:"fa fa-arrow-left"},null,-1)),De={key:1,class:"capitalize text-primary"},je={class:"card-text"},Oe={__name:"ChartCurrentVsPrevious",props:{title:{type:String},type:{type:String,default:"bar"},data:{type:Object,required:!0}},setup(t){const l=t,s=w(()=>Object.entries(l.data).map(([r,n])=>({name:D(r),data:n.data.map(c=>c.total),labels:Object.keys(n).map(c=>D(c)),tension:0,fill:!1,...!I(r)&&{borderDash:[5,5]},...I(r)&&{fill:!0}}))),d=W({headers:{labels:[...Array(32).keys()].slice(1)},options:{colors:["#7B77D120","#F598B420"],borderColors:["#7B77D1","#F598B4"],tension:0,plugins:{legend:{display:!1},title:{display:!1}},scales:{x:{ticks:{callback:function(r,n){return n%3===0?"Day "+this.getLabelForValue(r):""}}}}},series:s});return(r,n)=>(a(),u("div",$e,[e("div",ke,[e("h5",Ce,[r.selectedDate?(a(),h(R,{key:0,onClick:n[0]||(n[0]=c=>r.selectedDate=null)},{default:m(()=>[Se]),_:1})):C("",!0),b(" "+p(t.title)+" ",1),r.selectedDate?(a(),u("span",De,p(i(D)(r.selectedDate)),1)):C("",!0)]),e("div",je,[y(Q,{style:{height:"300px",background:"white",width:"100%"},label:"name",type:"line",labels:d.headers.labels,options:d.options,series:d.series},null,8,["labels","options","series"])])])]))}},Te=ee(Oe,[["__scopeId","data-v-56553709"]]),Ie=e("small",{class:"group-hover:inline-block hidden"},"Update",-1),Me=["src"],Ne={class:"text-secondary font-bold text-4xl relative"},Ae=e("span",{class:"text-sm absolute"},"CÂº",-1),Be={__name:"WeatherWidget",setup(t){const l="https://fcc-weather-api.glitch.me/api/current?",s=H("loger::climate",{name:"",main:{},visibility:0,wind:{},weather:[],data:{},expireTime:0,lastFetch:0}),d=w(()=>s.value.weather.length&&s.value.weather[0].icon),r=w(()=>s.value.weather.length&&s.value.weather[0].description),n=J(new Date,"iiii"),c=_=>{Object.keys(s.value).forEach(f=>{s.value[f]=_[f]||s.value[f]}),s.value.expireTime=oe(new Date,15),s.value.lastFetch=new Date},o=({coords:{latitude:_,longitude:f}})=>{const O=`lat=${_}&lon=${f}`;return fetch(l+O).then(M=>M.json())},g=()=>{navigator.geolocation.getCurrentPosition(async _=>{try{const f=await o(_);c(f)}catch(f){console.error(f)}})};return L(()=>{s.value.expireTime<new Date&&g()}),(_,f)=>(a(),h(se,{title:i(s).name,subtitle:i(n),"value-description":r.value},{title:m(()=>[e("div",{class:"group cursor-pointer transition",onClick:f[0]||(f[0]=O=>g())},[b(p(i(s).name)+" ",1),Ie])]),leftTitle:m(()=>[e("img",{src:d.value,alt:"weather-image"},null,8,Me)]),default:m(()=>[e("h4",Ne,[b(p(i(s).main.temp)+" ",1),Ae])]),_:1},8,["title","subtitle","value-description"]))}},Pe={class:"payment px-4 flex justify-between"},Ve={class:"text-sm text-body-1/80"},Fe=e("div",null,[e("span",{class:"text-secondary bg-secondary/10 px-4 rounded-3xl py-1.5 text-xs"}," Due in 2 days ")],-1),We={__name:"NextPaymentItem",props:{payment:{type:Object}},setup(t){return(l,s)=>(a(),u("section",Pe,[e("div",null,[y(S,null,{default:m(()=>[b(p(i(j)(t.payment.amount)),1)]),_:1}),e("span",Ve,p(t.payment.name),1)]),Fe]))}},qe=e("h4",{class:"p-4 font-bold"},"Next Payments",-1),Ee={class:"space-y-2"},Le={__name:"NextPaymentsWidget",props:{payments:{type:Array,default(){return[]}}},setup(t){return(l,s)=>(a(),u("div",{class:v(["mt-4 mb-10 overflow-hidden bg-white sm:rounded-lg",l.cardShadow])},[qe,e("section",Ee,[(a(!0),u($,null,k(t.payments,d=>(a(),h(We,{key:d.id,payment:d},null,8,["payment"]))),128))])],2))}},ze={class:"px-5 mx-auto mt-5 space-y-10 md:space-y-0 md:space-x-10 md:flex max-w-screen-2xl sm:px-6 lg:px-8"},Re={class:"md:w-9/12"},Ye={class:"flex space-x-4"},Ue={class:"py-6 space-y-4 md:w-3/12"},_t={__name:"Dashboard",props:{revenue:{type:Object,default(){return{previousYear:{values:[]},currentYear:{values:[]}}}},expenses:{type:Object,default(){return{previousYear:{values:[]},currentYear:{values:[]}}}},meals:{type:Object,required:!0},user:{type:Object,required:!0},budgetTotal:{type:Number,default:0},nextPayments:{type:Array,default(){return[]}},transactionTotal:{type:Object,default:0},categories:{type:Array,default(){return[]}},accounts:{type:Array,default(){return[]}},onboarding:{type:Array,default(){return[]}}},setup(t){const l=ae(),s=x(null),d=x();return(r,n)=>(a(),h(N,null,z({default:m(()=>{var c;return[e("div",ze,[e("div",Re,[y(_e,{class:"mt-5",ref_key:"budgetTrackerRef",ref:d,budget:t.budgetTotal,expenses:t.transactionTotal.total,message:r.t("dashboard.welcome"),username:t.user.name,onSectionClick:n[0]||(n[0]=o=>s.value=o)},{default:m(()=>[s.value=="expenses"?(a(),h(Te,{key:0,class:v(["w-full mt-4 mb-10 overflow-hidden bg-white rounded-lg",[r.cardShadow]]),title:r.t("This month vs last month"),ref:"ComparisonRevenue",data:t.expenses},null,8,["class","title","data"])):C("",!0)]),_:1},8,["budget","expenses","message","username"]),e("div",Ye,[y(X,{class:v(["w-full mt-4 mb-10 overflow-hidden bg-white rounded-lg",[r.cardShadow]]),title:r.t("Spending summary"),ref:"ComparisonRevenue",data:t.revenue},null,8,["class","title","data"])])]),e("div",Ue,[y(Be),t.onboarding.steps?(a(),h(xe,{key:0,class:"mt-5",steps:t.onboarding.steps,percentage:t.onboarding.percentage},null,8,["steps","percentage"])):(a(),h(Le,{key:1,class:"w-full",payments:t.nextPayments},null,8,["payments"])),y(te,{meals:(c=t.meals)==null?void 0:c.data},null,8,["meals"])])])]}),_:2},[i(l).isMobile?{name:"title",fn:m(()=>[y(re,{size:"medium",class:"ml-2"})]),key:"0"}:void 0]),1024))}};export{_t as default};
