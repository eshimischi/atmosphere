import{J as S}from"./Button-ca15cec9.js";import{J as I}from"./FormSection-053ee31b.js";import{J as B}from"./Input-d726a746.js";import{J as F}from"./InputError-bdfad68a.js";import{_ as V}from"./Label-d0ba9a57.js";import{J as j}from"./ActionMessage-4556dc4a.js";import{J as C}from"./SecondaryButton-46417246.js";import{B as A}from"./atmosphere-ui-b819c890.js";import{_ as N}from"./LogerInput-8ca4e824.js";import{T as U,O as x,j as r,o as p,c as h,w as s,f as L,b as i,a as o,e as _,a6 as P,I as M,i as m,k as v,g,n as z}from"./app-114b751b.js";import{_ as E}from"./_plugin-vue_export-helper-c27b6911.js";import"./SectionCardTitle-d72921d4.js";const R={components:{JetActionMessage:j,JetButton:S,JetFormSection:I,JetInput:B,JetInputError:F,JetLabel:V,JetSecondaryButton:C,AtField:A,LogerInput:N},props:["user"],data(){return{form:U({_method:"PUT",name:this.user.name,email:this.user.email,photo:null}),photoPreview:null}},methods:{updateProfileInformation(){this.$refs.photo&&(this.form.photo=this.$refs.photo.files[0]),this.form.post(route("user-profile-information.update"),{errorBag:"updateProfileInformation",preserveScroll:!0,onSuccess:()=>this.clearPhotoFileInput()})},selectNewPhoto(){this.$refs.photo.click()},updatePhotoPreview(){const n=new FileReader;n.onload=t=>{this.photoPreview=t.target.result},n.readAsDataURL(this.$refs.photo.files[0])},deletePhoto(){x.delete(route("current-user-photo.destroy"),{preserveScroll:!0,onSuccess:()=>{this.photoPreview=null,this.clearPhotoFileInput()}})},clearPhotoFileInput(){var n;(n=this.$refs.photo)!=null&&n.value&&(this.$refs.photo.value=null)}}},T={key:0,class:"col-span-6 sm:col-span-4"},D={class:"mt-2"},O=["src","alt"],q={class:"mt-2"};function G(n,t,c,H,e,l){const b=r("jet-label"),u=r("jet-secondary-button"),w=r("jet-input-error"),f=r("LogerInput"),d=r("AtField"),J=r("JetActionMessage"),k=r("JetButton"),y=r("JetFormSection");return p(),h(y,{title:"Profile Information",description:"Update your account's profile information and email address.",onSubmitted:l.updateProfileInformation},{form:s(()=>[n.$page.props.jetstream.managesProfilePhotos?(p(),L("div",T,[i("input",{type:"file",class:"hidden",ref:"photo",onChange:t[0]||(t[0]=(...a)=>l.updatePhotoPreview&&l.updatePhotoPreview(...a))},null,544),o(b,{for:"photo",value:"Photo"}),_(i("div",D,[i("img",{src:c.user.profile_photo_url,alt:c.user.name,class:"object-cover w-20 h-20 rounded-full"},null,8,O)],512),[[P,!e.photoPreview]]),_(i("div",q,[i("span",{class:"block w-20 h-20 rounded-full",style:M("background-size: cover; background-repeat: no-repeat; background-position: center center; background-image: url('"+e.photoPreview+"');")},null,4)],512),[[P,e.photoPreview]]),o(u,{class:"mt-2 mr-2",type:"button",onClick:v(l.selectNewPhoto,["prevent"])},{default:s(()=>[m(" Select A New Photo ")]),_:1},8,["onClick"]),c.user.profile_photo_path?(p(),h(u,{key:0,type:"button",class:"mt-2",onClick:v(l.deletePhoto,["prevent"])},{default:s(()=>[m(" Remove Photo ")]),_:1},8,["onClick"])):g("",!0),o(w,{message:e.form.errors.photo,class:"mt-2"},null,8,["message"])])):g("",!0),o(d,{class:"col-span-6 sm:col-span-4",label:"Name",field:"name",errors:e.form.errors},{default:s(()=>[o(f,{id:"name",type:"text",modelValue:e.form.name,"onUpdate:modelValue":t[1]||(t[1]=a=>e.form.name=a),autocomplete:"name"},null,8,["modelValue"])]),_:1},8,["errors"]),o(d,{class:"col-span-6 sm:col-span-4",label:"Email",field:"email",errors:e.form.errors},{default:s(()=>[o(f,{id:"email",type:"email",modelValue:e.form.email,"onUpdate:modelValue":t[2]||(t[2]=a=>e.form.email=a)},null,8,["modelValue"])]),_:1},8,["errors"])]),actions:s(()=>[o(J,{on:e.form.recentlySuccessful,class:"mr-3"},{default:s(()=>[m(" Saved. ")]),_:1},8,["on"]),o(k,{class:z({"opacity-25":e.form.processing}),disabled:e.form.processing},{default:s(()=>[m(" Save ")]),_:1},8,["class","disabled"])]),_:1},8,["onSubmitted"])}const ne=E(R,[["render",G]]);export{ne as default};
