import{V as S,_ as O}from"./AppLayout.f085efbf.js";import{_ as N}from"./SectionTitle.fa46b1f1.js";import{_ as U}from"./Modal.50d5072f.js";import{h as I,W as T,c as B,D as W,U as F,A as M,o as u,k as h,w as o,b as t,g as w,d as a,u as e,M as L,f as p,r as R,a as k,e as j,F as E,i as P,t as V,l as A}from"./app.c4e32cc5.js";import{b as r,c as v,_ as $}from"./atmosphere-ui.es.343f9b42.js";import{S as C}from"./slug.1069a51b.js";import{N as D}from"./Select.b9cc5204.js";import{u as X}from"./useSelects.e2c994ff.js";import"./plugin-vue_export-helper.21dcd24c.js";import"./Suffix.a2ca0b82.js";import"./index.a95d9f5e.js";import"./Icon.c108adb9.js";import"./format-length.7f3135aa.js";const Z={class:"px-4 pt-5 pb-4 bg-slate-600 sm:p-6 sm:pb-4"},q={class:"mt-3 text-center sm:mt-0 sm:ml-4 sm:text-left"},z={class:"text-lg"},G=p("Add a new account"),H={class:"mt-2"},J={class:"flex space-x-4"},K={class:"px-6 py-4 space-x-3 text-right bg-gray-100"},Q=p(" Cancel "),Y=p(" Save "),ee={props:{show:{default:!1},maxWidth:{default:"2xl"},closeable:{default:!0}},emits:["close"],setup(d,{emit:m}){const n=I({form:T({name:"",category_id:null,account_detail_type_id:null,display_id:"",description:""}),accountDisplayId:B(()=>C(n.form.name,"_"))}),g=W("categoryOptions"),_=()=>{m("close")},x=()=>{n.form.transform(i=>(i.display_id=C(i.name,"_"),i)).post(route("accounts.store"),{onSuccess:({data:i})=>{m("close"),n.form.reset()}})},f=F().props.value.accountDetailTypes,y=S(f,["id","label"]),{form:s,accountDisplayId:b}=M(n);return(i,l)=>(u(),h(U,{show:d.show,"max-width":d.maxWidth,closeable:d.closeable,onClose:_},{default:o(()=>[t("div",Z,[t("div",q,[t("h3",z,[w(i.$slots,"title",{},()=>[G])]),t("div",H,[w(i.$slots,"content",{},()=>[t("div",null,[a(e(r),{label:"Category",class:"w-full"},{default:o(()=>[a(e(D),{filterable:"",clearable:"",tag:"",value:e(s).category_id,"onUpdate:value":l[0]||(l[0]=c=>e(s).category_id=c),options:e(g)},null,8,["value","options"])]),_:1}),a(e(r),{label:"Detail Type",class:"w-full"},{default:o(()=>[a(e(D),{filterable:"",clearable:"",tag:"",value:e(s).account_detail_type_id,"onUpdate:value":l[1]||(l[1]=c=>e(s).account_detail_type_id=c),"default-expand-all":!0,options:e(y)},null,8,["value","options"])]),_:1}),t("div",J,[a(e(r),{label:"Account ID",class:"w-6/12"},{default:o(()=>[a(e(v),{modelValue:e(b),"onUpdate:modelValue":l[2]||(l[2]=c=>L(b)?b.value=c:null),readonly:""},null,8,["modelValue"])]),_:1}),a(e(r),{label:"Account Label",class:"w-6/12"},{default:o(()=>[a(e(v),{modelValue:e(s).name,"onUpdate:modelValue":l[3]||(l[3]=c=>e(s).name=c)},null,8,["modelValue"])]),_:1})]),a(e(r),{label:"Description"},{default:o(()=>[a(e(v),{modelValue:e(s).description,"onUpdate:modelValue":l[4]||(l[4]=c=>e(s).description=c)},null,8,["modelValue"])]),_:1})])])])])]),t("div",K,[a(e($),{type:"secondary",onClick:_},{default:o(()=>[Q]),_:1}),a(e($),{class:"text-white bg-pink-400",onClick:x},{default:o(()=>[Y]),_:1})])]),_:3},8,["show","max-width","closeable"]))}},te={class:"px-6 pb-20 mx-auto mt-5 max-w-screen-2xl lg:px-8"},se={class:"w-4/12"},ae={class:"rounded-md border bg-slate-600 py-2 px-5"},oe=p(" Accounts"),le={class:"mt-4 space-y-2"},ne={class:"mt-2 block"},ce=["onClick"],ie=p(" Add account "),de=t("main",{class:"w-8/12"},null,-1),we={props:{categories:{type:Array,default:()=>[]},accounts:{type:Array,default:()=>[]},accountDetailTypes:{type:Array,default:()=>[]}},setup(d){const m=d,n=R(!1),g=()=>{n.value=!0},_=f=>{A.Inertia.delete(`/accounts/${f}`,{onSuccess(){A.Inertia.reload()}})},{categoryOptions:x}=X();return x(m.categories,"subcategories","categoryOptions"),(f,y)=>(u(),h(O,null,{default:o(()=>[t("div",te,[t("aside",se,[t("article",ae,[a(N,{type:"secondary"},{default:o(()=>[oe]),_:1}),t("div",le,[t("section",null,[(u(!0),k(E,null,j(d.accounts,s=>(u(),k("div",{key:s.id,class:"px-5 py-3 cursor-pointer rounded-md bg-slate-600 border-2"},[t("p",null,V(s.name),1),t("strong",ne,V(s.balance),1),t("button",{onClick:b=>_(s.id)}," delete ",8,ce)]))),128))])]),a(e($),{onClick:g},{default:o(()=>[ie]),_:1})])]),de]),n.value?(u(),h(ee,{key:0,show:n.value,onClose:y[0]||(y[0]=s=>n.value=!1)},null,8,["show"])):P("",!0)]),_:1}))}};export{we as default};
