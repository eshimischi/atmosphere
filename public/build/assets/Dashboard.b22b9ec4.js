import{a as y}from"./atmosphere-ui.es.4435c64a.js";import{r as k,q as B,o,c as d,d as e,t as h,a as s,b as a,f as l,F as w,h as T,g as A,i,k as M,J as N,e as D,S as m}from"./app.8c4d85cf.js";import{u as E,_ as R}from"./AppLayout.3b0489bb.js";import{_ as b}from"./SectionTitle.b84dbd6d.js";import{_ as S}from"./TransactionModal.7246e40e.js";import{_ as C}from"./NumberHider.639f1aa6.js";import{f as I}from"./formatMoney.228f3112.js";import{t as q,_ as V}from"./formatters.f6d22e0f.js";import"./_plugin-vue_export-helper.cdc0426e.js";import"./Modal.414ced84.js";/* empty css                                              */import"./LogerInput.b9b0f9d1.js";import"./Select.ef620d5c.js";import"./light.24ffe470.js";import"./fade-in-scale-up.cssr.73ecc0f8.js";import"./Suffix.dc74e16b.js";import"./Popover.ad11f4ae.js";import"./format-length.7f3135aa.js";import"./DatePicker.d9ac50bf.js";import"./index.082e1a14.js";import"./exact-math.node.76a9c4c7.js";import"./Progress.3b26e3d7.js";import"./index.468785f8.js";const j={class:"px-5 py-3 transition border divide-y rounded-lg shadow-md divide-base border-base bg-base-lvl-3"},L={class:"items-center pb-2 md:justify-between md:flex"},O={class:"font-bold text-body"},F=i(" Welcome to Loger "),G={class:"text-primary"},J={class:"space-x-2"},P=e("i",{class:"fa fa-wallet"},null,-1),U=i(" Edit budget "),W={class:"flex py-3"},z=["onClick"],H={class:"text-body"},K={class:"relative w-72"},Q={class:"relative w-72"},X={__name:"BudgetTracker",props:{username:{type:String,required:!0},budget:{type:Number},expenses:{type:Array}},setup(r){const v=r,{isOpen:f}=E();k(null);const g=B(()=>({expenses:{label:"Current Expenses",value:v.expenses},budget:{label:"Monthly Budget",value:v.budget}})),$=c=>Array.isArray(c);return(c,_)=>(o(),d("div",j,[e("div",L,[e("h1",O,[F,e("span",G,h(r.username),1)]),e("div",J,[s(l(y),{class:"text-sm text-white bg-primary",rounded:"",onClick:_[0]||(_[0]=n=>c.$inertia.visit(c.route("budgets.index")))},{default:a(()=>[P,U]),_:1})])]),e("div",W,[(o(!0),d(w,null,T(l(g),(n,x)=>(o(),d("div",{class:"w-full transition cursor-pointer hover:opacity-75",onClick:t=>c.$emit("section-click",x),key:x},[e("h4",H,h(n.label),1),$(n.value)?(o(),A(b,{key:0,class:"flex flex-col mt-2 space-y-2"},{default:a(()=>[(o(!0),d(w,null,T(n.value,t=>(o(),d("span",K,[s(C),i(" "+h(l(I)(t.total,t.currency_code)),1)]))),256))]),_:2},1024)):(o(),A(b,{key:1,class:"mt-2"},{default:a(()=>[e("span",Q,[s(C),i(" "+h(l(I)(n.value)),1)])]),_:2},1024))],8,z))),128))]),M(c.$slots,"default"),s(S,{show:l(f),"onUpdate:show":_[1]||(_[1]=n=>N(f)?f.value=n:null)},null,8,["show"])]))}},Y={class:"px-5 mx-auto mt-5 space-y-10 md:space-y-0 md:space-x-10 md:flex max-w-screen-2xl sm:px-6 lg:px-8"},Z={class:"md:w-9/12"},ee=i(" Dashboard"),te={key:0,class:"mt-5 mb-10"},se=i(" Pending for approval "),ae={class:"px-5 py-1 mt-5 border rounded-md shadow-md border-base bg-base-lvl-3"},oe={class:"flex justify-end"},re=e("i",{class:"block mr-2 fa fa-check"},null,-1),ne=i(" Approve "),le=e("i",{class:"block mr-2 fa fa-times"},null,-1),ie=i(" Remove"),de=e("i",{class:"block fa fa-robot"},null,-1),ce={class:"md:w-3/12"},ue={class:"space-y-5"},me=i(" Menu for today"),pe={class:"px-4 py-3 rounded-lg shadow-md cursor-pointer min-h-min bg-base-lvl-3"},_e={class:"font-bold text-blue-400"},fe=e("small",{class:"text-gray-400"},"Lunch",-1),ye={key:1,class:"py-4 text-center"},he=e("h4",{class:"py-1 text-2xl font-bold text-body-1"}," No meals ",-1),be=i("Go to planner"),Ge={__name:"Dashboard",props:{meals:{type:Array,required:!0},user:{type:Object,required:!0},budgetTotal:{type:Number,default:0},budget:{type:Array,default(){return[]}},transactionTotal:{type:Array,default:0},transactions:{type:Array,default(){return[]}},drafts:{type:Array,default(){return[]}},categories:{type:Array,default(){return[]}},accounts:{type:Array,default(){return[]}}},setup(r){const v=k(null),f=()=>{axios.post("/api/automation/run-all").then(t=>{console.log(t.data)}).catch(t=>{console.log(t)})},g=()=>{m.Inertia.post("/transactions/remove-all-drafts").then(t=>{m.Inertia.reload()})},$=t=>{m.Inertia.post("/transactions/approve-all-drafts").then(()=>{m.Inertia.reload()})},c=t=>{m.Inertia.post(`/transactions/${t.id}/approve`).then(()=>{m.Inertia.reload()})},_=t=>{m.Inertia.delete(`/transactions/${t.id}`).then(()=>{m.Inertia.reload()})},n=k(),x=t=>{n.setTransaction(t)};return(t,u)=>(o(),A(R,null,{default:a(()=>[e("div",Y,[e("div",Z,[s(b,{type:"secondary"},{default:a(()=>[ee]),_:1}),s(X,{class:"mt-5",ref_key:"budgetTrackerRef",ref:n,budget:r.budgetTotal,expenses:r.transactionTotal,username:r.user.name,onSectionClick:u[0]||(u[0]=p=>v.value=p)},null,8,["budget","expenses","username"]),r.drafts.length?(o(),d("div",te,[s(b,{type:"secondary"},{default:a(()=>[se]),_:1}),e("div",ae,[s(V,{"table-label":"Automatic Transactions",class:"pt-3","table-class":"px-0 mt-5",onApproved:c,onRemoved:_,onEdit:x,"allow-mark-as-approved":!0,"allow-remove":!0,transactions:r.drafts,parser:l(q)},{action:a(()=>[e("div",oe,[s(l(y),{class:"flex items-center h-10 space-x-2 text-primary",rounded:"",onClick:u[1]||(u[1]=p=>$())},{default:a(()=>[re,ne]),_:1}),s(l(y),{class:"flex items-center h-10 mr-2 space-x-2 text-primary",rounded:"",onClick:u[2]||(u[2]=p=>g())},{default:a(()=>[le,ie]),_:1}),s(l(y),{class:"flex items-center h-10 space-x-2 text-white bg-primary",rounded:"",onClick:u[3]||(u[3]=p=>f())},{default:a(()=>[de]),_:1})])]),_:1},8,["transactions","parser"])])])):D("",!0)]),e("div",ce,[e("div",ue,[s(b,{type:"secondary"},{default:a(()=>[me]),_:1}),e("div",pe,[r.meals.length?(o(!0),d(w,{key:0},T(r.meals,p=>(o(),d("div",{key:p.id},[e("h4",_e,h(p.dateable.name),1),fe]))),128)):(o(),d("div",ye,[he,s(l(y),{class:"mt-4 text-white rounded-md bg-primary"},{default:a(()=>[be]),_:1})]))])])])])]),_:1}))}};export{Ge as default};
