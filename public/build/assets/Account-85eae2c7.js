import{L as T,O as w}from"./atmosphere-ui-5b718e83.js";import{A as F,B as I,p,o,c as d,w as n,u as t,a as i,b as f,e as v,h as b,O as r,i as _,t as L,F as y,g as N,C as V}from"./app-fc313f38.js";import{_ as M}from"./AppLayout.vue_vue_type_script_setup_true_lang-87835da0.js";import{_ as j}from"./TransactionSearch-03c1bdf8.js";import{u as E,_ as R,F as U}from"./useServerSearch-8502c7d2.js";import{_ as q,a as z}from"./DraftButtons-d5577951.js";import{_ as h}from"./LogerButton-370ed8f9.js";import{t as G}from"./tableAccountCols-5a984747.js";import{u as H}from"./isMobile-3d69cdae.js";import{u as J}from"./index-975c57c9.js";import{f as K}from"./formatMoney-da670e0a.js";import"./AppIcon-36bb04e5.js";/* empty css                                                */import"./Modal-ca404241.js";/* empty css                                              */import"./LogerInput-2f23c230.js";import"./_plugin-vue_export-helper-c27b6911.js";import"./TransactionsTable-d91fffe7.js";import"./exact-math.node-672740b8.js";import"./NumberHider-888bcf03.js";import"./index-3a6f8c36.js";import"./Progress-f6cc10fb.js";import"./Dropdown-1335b583.js";import"./SectionTitle-df81ac17.js";import"./vue-draggable-next.esm-bundler-25f0042a.js";import"./constants-cb26b0c1.js";import"./WidgetCard-97abea05.js";import"./SectionNav-7e8b141c.js";import"./CustomTable-71b7dae3.js";const P={class:"flex items-center w-full space-x-2"},Q={class:"flex space-x-4 mt-4"},gt={__name:"Account",props:{transactions:{type:Object,default:()=>({data:[]})},stats:{type:Object,default:()=>({data:[]})},accounts:{type:Array,default:()=>[]},categories:{type:Array,default(){return[]}},serverSearchOptions:{type:Object,default:()=>({})},accountId:{type:[Number,null]}},setup(c){const m=c,{openTransactionModal:D}=H(),{serverSearchOptions:u,accountId:x}=F(m),{state:l}=E(u);I("selectedAccountId",x);const k=J(),S=p(()=>k.isMobile?j:q),C=p(()=>{var e;return((e=u.value.filters)==null?void 0:e.status)=="draft"}),$=e=>{r.delete(`/transactions/${e.id}`,{onSuccess(){r.reload()}})},g=e=>{r.patch(`/transactions/${e.id}/linked`,{onSuccess(){r.reload()}})},O=e=>{D({transactionData:e})},B={draft:{label:"Drafts",value:"/finance/transactions?filter[status]=draft&relationships=linked"},verified:{label:"Verified",value:"/finance/transactions?"},scheduled:{label:"Scheduled",value:"/finance/transactions?filter[status]=scheduled"}};return(e,s)=>(o(),d(M,{onBack:s[2]||(s[2]=a=>t(r).visit("/finance/transactions")),"show-back-button":!0},{header:n(()=>[i(R,null,{actions:n(()=>[f("div",P,[(o(),v(y,null,b(B,(a,A)=>i(h,{variant:"inverse",class:"",key:A,onClick:W=>t(r).visit(a.value)},{default:n(()=>[_(L(a.label),1)]),_:2},1032,["onClick"])),64)),i(t(T),{class:"w-full h-12 border-none bg-base-lvl-1 text-body",startDate:t(l).dates.startDate,"onUpdate:startDate":s[0]||(s[0]=a=>t(l).dates.startDate=a),endDate:t(l).dates.endDate,"onUpdate:endDate":s[1]||(s[1]=a=>t(l).dates.endDate=a),controlsClass:"bg-transparent text-body hover:bg-base-lvl-1","next-mode":"month"},null,8,["startDate","endDate"]),i(h,{variant:"inverse"},{default:n(()=>[_(" Import Transactions ")]),_:1}),C.value?(o(),d(z,{key:0})):N("",!0)])]),_:1})]),default:n(()=>[i(U,{title:"Transactions",accounts:c.accounts},{default:n(()=>[f("div",Q,[(o(!0),v(y,null,b(c.stats,a=>(o(),d(t(w),{class:"w-full text-body-1 cursor-pointer bg-base-lvl-3",value:t(K)(a)},null,8,["value"]))),256))]),(o(),d(V(S.value),{cols:t(G)(m.accountId),transactions:c.transactions,"server-search-options":t(u),onFindLinked:g,onRemoved:$,onEdit:O},null,40,["cols","transactions","server-search-options"]))]),_:1},8,["accounts"])]),_:1}))}};export{gt as default};
