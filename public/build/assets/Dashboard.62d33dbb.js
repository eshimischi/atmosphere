import{_ as y}from"./atmosphere-ui.es.bb151f48.js";import{r as $,c as T,o as c,a as f,b as e,t as g,d as s,w as o,u as n,F as A,e as C,f as i,g as I,h as B,i as L,j as M,k as O,l as p}from"./app.e738c84d.js";import{_ as S}from"./AppLayout.d67665c7.js";import{_ as v}from"./SectionTitle.75e670bb.js";import{_ as j,a as D}from"./NumberHider.2bb87ca5.js";import{f as E}from"./formatMoney.228f3112.js";import{t as R,_ as V}from"./formatters.2b4e22e7.js";import{u as q}from"./useSelects.b4e4d8e6.js";import"./plugin-vue_export-helper.21dcd24c.js";import"./Modal.40de7d4e.js";import"./LogerInput.2a218089.js";import"./DatePicker.51cc981d.js";import"./index.2e08e1eb.js";import"./index.a95d9f5e.js";import"./Suffix.5aad8092.js";import"./Icon.f03f38c6.js";import"./Select.8b95d733.js";import"./format-length.7f3135aa.js";import"./exact-math.node.d84085b5.js";import"./Progress.31470334.js";const F={class:"px-5 py-3 transition border divide-y rounded-lg shadow-md divide-slate-700 border-slate-700 bg-slate-600"},W={class:"items-center pb-2 md:justify-between md:flex"},G={class:"font-bold text-gray-200"},P=i(" Welcome to Loger "),U={class:"text-pink-400"},Z={class:"space-x-2"},z=e("i",{class:"fa fa-exchange-alt"},null,-1),H=i(" Add transaction "),J=e("i",{class:"fa fa-wallet"},null,-1),K=i(" Edit budget "),Q={class:"flex py-3"},X=["onClick"],Y={class:"text-gray-200"},ee={class:"relative"},te={props:{username:{type:String,required:!0},budget:{type:Number},expenses:{type:Number}},setup(r){const t=r,u=$(!1);$(null);const x=T(()=>({expenses:{label:"Current Expenses",value:t.expenses},budget:{label:"Monthly Budget",value:t.budget}}));return(_,l)=>(c(),f("div",F,[e("div",W,[e("h1",G,[P,e("span",U,g(r.username),1)]),e("div",Z,[s(n(y),{class:"text-sm text-white bg-pink-400",rounded:"",onClick:l[0]||(l[0]=d=>u.value=!0)},{default:o(()=>[z,H]),_:1}),s(n(y),{class:"text-sm text-white bg-pink-400",rounded:"",onClick:l[1]||(l[1]=d=>_.$inertia.visit(_.route("budgets.index")))},{default:o(()=>[J,K]),_:1})])]),e("div",Q,[(c(!0),f(A,null,C(n(x),(d,b)=>(c(),f("div",{class:"w-full transition cursor-pointer hover:opacity-75",onClick:k=>_.$emit("section-click",b),key:b},[e("h4",Y,g(d.label),1),s(v,{class:"mt-2"},{default:o(()=>[e("span",ee,[s(j),i(" "+g(n(E)(d.value)),1)])]),_:2},1024)],8,X))),128))]),I(_.$slots,"default"),s(D,{onClose:l[2]||(l[2]=d=>u.value=!1),show:u.value,"onUpdate:show":l[3]||(l[3]=d=>u.value=d)},null,8,["show"])]))}},se={class:"px-4 py-3 rounded-lg shadow-md bg-slate-600"},ae={class:"flex justify-between"},oe=e("h4",{class:"text-2xl font-bold text-gray-200"}," Get random meal",-1),ne=e("i",{class:"fa fa-sync"},null,-1),re={class:"h-20 text-lg text-center text-gray-100"},le={key:0},ie=e("i",{class:"fa fa-spin fa-spinner"},null,-1),de=[ie],ce={props:{show:{default:!1},maxWidth:{default:"2xl"},closeable:{default:!0},meals:{type:Array,default(){return[]}},date:{default:new Date},title:{type:String}},emits:["close"],setup(r){const t=B({meal:null,isLoading:!1,mealName:T(()=>t.meal&&t.meal.name)}),u=()=>{t.isLoading||(t.meal=null,t.isLoading=!0,M.get("/meals-random").then(({data:x})=>{t.meal=x}).finally(()=>{t.isLoading=!1}))};return(x,_)=>(c(),f("div",se,[e("div",ae,[oe,s(n(y),{class:"text-white bg-pink-500 rounded-full",onClick:u,disabled:n(t).isLoading},{default:o(()=>[ne]),_:1},8,["disabled"])]),e("div",re,[i(g(n(t).mealName)+" ",1),n(t).isLoading?(c(),f("div",le,de)):L("",!0)])]))}},ue={class:"px-5 mx-auto mt-5 space-y-10 md:space-y-0 md:space-x-10 md:flex max-w-screen-2xl sm:px-6 lg:px-8"},me={class:"md:w-9/12"},pe=i(" Dashboard"),fe={key:0,class:"mt-5 mb-10"},_e=i(" Pending for approval "),he={class:"px-5 py-1 mt-5 border rounded-md shadow-md border-slate-700 bg-slate-600"},xe={class:"flex justify-end"},ye=e("i",{class:"block mr-2 fa fa-check"},null,-1),ge=i(" Approve "),be=e("i",{class:"block mr-2 fa fa-times"},null,-1),ve=i(" Remove"),$e=e("i",{class:"block fa fa-robot"},null,-1),ke={class:"md:w-3/12"},we={class:"space-y-5"},Te=i(" Meals"),Ae=e("h4",{class:"text-2xl font-bold text-pink-400"}," Menu for today",-1),Ce={class:"font-bold text-blue-400"},Le=e("small",{class:"text-gray-400"},"Lunch",-1),Je={props:{meals:{type:Array,required:!0},user:{type:Object,required:!0},budgetTotal:{type:Number,default:0},budget:{type:Array,default(){return[]}},transactionTotal:{type:Number,default:0},transactions:{type:Array,default(){return[]}},drafts:{type:Array,default(){return[]}},categories:{type:Array,default(){return[]}},accounts:{type:Array,default(){return[]}}},setup(r){const t=r,u=$(null),x=()=>{axios.post("/api/automation/run-all").then(a=>{console.log(a.data)}).catch(a=>{console.log(a)})},_=()=>{p.Inertia.post("/transactions/remove-all-drafts").then(a=>{p.Inertia.reload()})},l=a=>{p.Inertia.post("/transactions/approve-all-drafts").then(()=>{p.Inertia.reload()})},d=a=>{p.Inertia.post(`/transactions/${a.id}/approve`).then(()=>{p.Inertia.reload()})},b=a=>{p.Inertia.delete(`/transactions/${a.id}`).then(()=>{p.Inertia.reload()})},k=$(),N=a=>{k.setTransaction(a)},{categoryOptions:w}=q();return w(t.categories,"accounts","categoryOptions"),w(t.accounts,"accounts","accountsOptions"),(a,m)=>(c(),O(S,null,{default:o(()=>[e("div",ue,[e("div",me,[s(v,{type:"secondary"},{default:o(()=>[pe]),_:1}),s(te,{class:"mt-5",ref_key:"budgetTrackerRef",ref:k,budget:r.budgetTotal,expenses:r.transactionTotal,username:r.user.name,onSectionClick:m[0]||(m[0]=h=>u.value=h)},null,8,["budget","expenses","username"]),r.drafts.length?(c(),f("div",fe,[s(v,{type:"secondary"},{default:o(()=>[_e]),_:1}),e("div",he,[s(V,{"table-label":"Automatic Transactions",class:"pt-3","table-class":"px-0 mt-5",onApproved:d,onRemoved:b,onEdit:N,"allow-mark-as-approved":!0,"allow-remove":!0,transactions:r.drafts,parser:n(R)},{action:o(()=>[e("div",xe,[s(n(y),{class:"flex items-center h-10 space-x-2 text-pink-400",rounded:"",onClick:m[1]||(m[1]=h=>l())},{default:o(()=>[ye,ge]),_:1}),s(n(y),{class:"flex items-center h-10 mr-2 space-x-2 text-pink-400",rounded:"",onClick:m[2]||(m[2]=h=>_())},{default:o(()=>[be,ve]),_:1}),s(n(y),{class:"flex items-center h-10 space-x-2 text-white bg-pink-400",rounded:"",onClick:m[3]||(m[3]=h=>x())},{default:o(()=>[$e]),_:1})])]),_:1},8,["transactions","parser"])])])):L("",!0)]),e("div",ke,[e("div",we,[s(v,{type:"secondary"},{default:o(()=>[Te]),_:1}),s(ce),Ae,(c(!0),f(A,null,C(r.meals,h=>(c(),f("div",{class:"px-4 py-3 rounded-lg shadow-md cursor-pointer bg-slate-600",key:h.id},[e("h4",Ce,g(h.dateable.name),1),Le]))),128))])])])]),_:1}))}};export{Je as default};
