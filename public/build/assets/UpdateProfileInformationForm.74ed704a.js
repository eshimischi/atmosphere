import{J as S}from"./Button.acc3bf6c.js";import{J as I}from"./FormSection.156d1924.js";import{J as F}from"./Input.895ce399.js";import{J as V}from"./InputError.7441ca17.js";import{_ as B}from"./Label.ae12a35f.js";import{J as C}from"./ActionMessage.00df155a.js";import{J as j}from"./SecondaryButton.04efa480.js";import{b as A}from"./atmosphere-ui.es.bb151f48.js";import{_ as N}from"./LogerInput.2a218089.js";import{v as r,o as p,k as h,w as s,a as x,b as i,d as o,I as _,J as P,K as U,x as v,i as b,y as L,f as m}from"./app.e738c84d.js";import{_ as M}from"./plugin-vue_export-helper.21dcd24c.js";import"./SectionTitle.bd705cad.js";const z={components:{JetActionMessage:C,JetButton:S,JetFormSection:I,JetInput:F,JetInputError:V,JetLabel:B,JetSecondaryButton:j,AtField:A,LogerInput:N},props:["user"],data(){return{form:this.$inertia.form({_method:"PUT",name:this.user.name,email:this.user.email,photo:null}),photoPreview:null}},methods:{updateProfileInformation(){this.$refs.photo&&(this.form.photo=this.$refs.photo.files[0]),this.form.post(route("user-profile-information.update"),{errorBag:"updateProfileInformation",preserveScroll:!0,onSuccess:()=>this.clearPhotoFileInput()})},selectNewPhoto(){this.$refs.photo.click()},updatePhotoPreview(){const n=new FileReader;n.onload=t=>{this.photoPreview=t.target.result},n.readAsDataURL(this.$refs.photo.files[0])},deletePhoto(){this.$inertia.delete(route("current-user-photo.destroy"),{preserveScroll:!0,onSuccess:()=>{this.photoPreview=null,this.clearPhotoFileInput()}})},clearPhotoFileInput(){var n;(n=this.$refs.photo)!=null&&n.value&&(this.$refs.photo.value=null)}}},E={key:0,class:"col-span-6 sm:col-span-4"},R={class:"mt-2"},D=["src","alt"],T={class:"mt-2"},K=m(" Select A New Photo "),X=m(" Remove Photo "),q=m(" Saved. "),G=m(" Save ");function H(n,t,c,O,e,l){const g=r("jet-label"),u=r("jet-secondary-button"),w=r("jet-input-error"),f=r("LogerInput"),d=r("AtField"),J=r("JetActionMessage"),y=r("JetButton"),k=r("JetFormSection");return p(),h(k,{title:"Profile Information",description:"Update your account's profile information and email address.",onSubmitted:l.updateProfileInformation},{form:s(()=>[n.$page.props.jetstream.managesProfilePhotos?(p(),x("div",E,[i("input",{type:"file",class:"hidden",ref:"photo",onChange:t[0]||(t[0]=(...a)=>l.updatePhotoPreview&&l.updatePhotoPreview(...a))},null,544),o(g,{for:"photo",value:"Photo"}),_(i("div",R,[i("img",{src:c.user.profile_photo_url,alt:c.user.name,class:"rounded-full h-20 w-20 object-cover"},null,8,D)],512),[[P,!e.photoPreview]]),_(i("div",T,[i("span",{class:"block rounded-full w-20 h-20",style:U("background-size: cover; background-repeat: no-repeat; background-position: center center; background-image: url('"+e.photoPreview+"');")},null,4)],512),[[P,e.photoPreview]]),o(u,{class:"mt-2 mr-2",type:"button",onClick:v(l.selectNewPhoto,["prevent"])},{default:s(()=>[K]),_:1},8,["onClick"]),c.user.profile_photo_path?(p(),h(u,{key:0,type:"button",class:"mt-2",onClick:v(l.deletePhoto,["prevent"])},{default:s(()=>[X]),_:1},8,["onClick"])):b("",!0),o(w,{message:e.form.errors.photo,class:"mt-2"},null,8,["message"])])):b("",!0),o(d,{class:"col-span-6 sm:col-span-4",label:"Name",field:"name",errors:e.form.errors},{default:s(()=>[o(f,{id:"name",type:"text",modelValue:e.form.name,"onUpdate:modelValue":t[1]||(t[1]=a=>e.form.name=a),autocomplete:"name"},null,8,["modelValue"])]),_:1},8,["errors"]),o(d,{class:"col-span-6 sm:col-span-4",label:"Email",field:"email",errors:e.form.errors},{default:s(()=>[o(f,{id:"email",type:"email",modelValue:e.form.email,"onUpdate:modelValue":t[2]||(t[2]=a=>e.form.email=a)},null,8,["modelValue"])]),_:1},8,["errors"])]),actions:s(()=>[o(J,{on:e.form.recentlySuccessful,class:"mr-3"},{default:s(()=>[q]),_:1},8,["on"]),o(y,{class:L({"opacity-25":e.form.processing}),disabled:e.form.processing},{default:s(()=>[G]),_:1},8,["class","disabled"])]),_:1},8,["onSubmitted"])}var ae=M(z,[["render",H]]);export{ae as default};
