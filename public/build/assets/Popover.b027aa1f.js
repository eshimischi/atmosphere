import{i as ne,F as Oe,a4 as xt,q as W,z as Pe,r as R,E as Ot,x as st,X as lt,C as P,p as Pt,Z as $t,j as _t,U as J,D as Q,T as Mt,y as It,w as ut,a5 as Rt}from"./app.ed3e752b.js";import{o as ee,j as V,q as Ne,p as Lt,d as Bt,m as Ft,n as re,b as Nt,k as ke,e as fe,X as kt,l as Dt,u as Kt,V as zt,B as Gt,a as Ht,c as Z}from"./fade-in-scale-up.cssr.07c62ce8.js";import{p as ft,t as Ut,s as Wt,a as jt,f as D,d as F,h as de,i as ce,e as oe,v as Xt,u as $e,g as qt}from"./light.2fdb7969.js";import{w as De,h as se,r as le,o as Vt,j as Zt,k as _e,l as Yt,f as K,M as Me,n as j,e as dt,p as be,S as Ke,q as Jt,U as ze,s as Ge,v as te,x as Qt,i as He,y as en,z as tn,A as nn,B as rn,C as on,D as an,a as sn,b as Ue}from"./AppLayout.3e3cea3d.js";import{f as he}from"./format-length.7f3135aa.js";function ln(e=8){return Math.random().toString(16).slice(2,2+e)}function un(e,t=[],n){const r={};return t.forEach(o=>{r[o]=e[o]}),Object.assign(r,n)}function Se(e,t=!0,n=[]){return e.forEach(r=>{if(r!==null){if(typeof r!="object"){(typeof r=="string"||typeof r=="number")&&n.push(ne(String(r)));return}if(Array.isArray(r)){Se(r,t,n);return}if(r.type===Oe){if(r.children===null)return;Array.isArray(r.children)&&Se(r.children,t,n)}else r.type!==xt&&n.push(r)}}),n}const Bo=(e,...t)=>typeof e=="function"?e(...t):typeof e=="string"?ne(e):typeof e=="number"?ne(String(e)):null;function We(e,t="default",n=void 0){const r=e[t];if(!r)return De("getFirstSlotVNode",`slot[${t}] is empty`),null;const o=Se(r(n));return o.length===1?o[0]:(De("getFirstSlotVNode",`slot[${t}] should have exactly one child`),null)}let ve;function fn(){return ve===void 0&&(ve=navigator.userAgent.includes("Node.js")||navigator.userAgent.includes("jsdom")),ve}function dn(e,t){return W(()=>{for(const n of t)if(e[n]!==void 0)return e[n];return e[t[t.length-1]]})}const U="@@mmoContext",cn={mounted(e,{value:t}){e[U]={handler:void 0},typeof t=="function"&&(e[U].handler=t,ee("mousemoveoutside",e,t))},updated(e,{value:t}){const n=e[U];typeof t=="function"?n.handler?n.handler!==t&&(V("mousemoveoutside",e,n.handler),n.handler=t,ee("mousemoveoutside",e,t)):(e[U].handler=t,ee("mousemoveoutside",e,t)):n.handler&&(V("mousemoveoutside",e,n.handler),n.handler=void 0)},unmounted(e){const{handler:t}=e[U];t&&V("mousemoveoutside",e,t),e[U].handler=void 0}},hn=cn;function je(e){return typeof e=="string"?document.querySelector(e):e()}function ct(e){return e instanceof HTMLElement}function ht(e){for(let t=0;t<e.childNodes.length;t++){const n=e.childNodes[t];if(ct(n)&&(gt(n)||ht(n)))return!0}return!1}function vt(e){for(let t=e.childNodes.length-1;t>=0;t--){const n=e.childNodes[t];if(ct(n)&&(gt(n)||vt(n)))return!0}return!1}function gt(e){if(!vn(e))return!1;try{e.focus({preventScroll:!0})}catch{}return document.activeElement===e}function vn(e){if(e.tabIndex>0||e.tabIndex===0&&e.getAttribute("tabIndex")!==null)return!0;if(e.getAttribute("disabled"))return!1;switch(e.nodeName){case"A":return!!e.href&&e.rel!=="ignore";case"INPUT":return e.type!=="hidden"&&e.type!=="file";case"BUTTON":case"SELECT":case"TEXTAREA":return!0;default:return!1}}let q=[];const gn=Pe({name:"FocusTrap",props:{disabled:Boolean,active:Boolean,autoFocus:{type:Boolean,default:!0},onEsc:Function,initialFocusTo:String,finalFocusTo:String,returnFocusOnDeactivated:{type:Boolean,default:!0}},setup(e){const t=ln(),n=R(null),r=R(null);let o=!1,a=!1;const i=document.activeElement;function s(){return q[q.length-1]===t}function l(p){var h;p.code==="Escape"&&s()&&((h=e.onEsc)===null||h===void 0||h.call(e,p))}Ot(()=>{st(()=>e.active,p=>{p?(d(),ee("keydown",document,l)):(V("keydown",document,l),o&&w())},{immediate:!0})}),lt(()=>{V("keydown",document,l),o&&w()});function u(p){if(!a&&s()){const h=f();if(h===null||h.contains(p.target))return;A("first")}}function f(){const p=n.value;if(p===null)return null;let h=p;for(;h=h.nextSibling,!(h===null||h instanceof Element&&h.tagName==="DIV"););return h}function d(){var p;if(!e.disabled){if(q.push(t),e.autoFocus){const{initialFocusTo:h}=e;h===void 0?A("first"):(p=je(h))===null||p===void 0||p.focus({preventScroll:!0})}o=!0,document.addEventListener("focus",u,!0)}}function w(){var p;if(e.disabled||(document.removeEventListener("focus",u,!0),q=q.filter(C=>C!==t),s()))return;const{finalFocusTo:h}=e;h!==void 0?(p=je(h))===null||p===void 0||p.focus({preventScroll:!0}):e.returnFocusOnDeactivated&&i instanceof HTMLElement&&(a=!0,i.focus({preventScroll:!0}),a=!1)}function A(p){if(!!s()&&e.active){const h=n.value,C=r.value;if(h!==null&&C!==null){const $=f();if($==null||$===C){a=!0,h.focus({preventScroll:!0}),a=!1;return}a=!0;const c=p==="first"?ht($):vt($);a=!1,c||(a=!0,h.focus({preventScroll:!0}),a=!1)}}}function S(p){if(a)return;const h=f();h!==null&&(p.relatedTarget!==null&&h.contains(p.relatedTarget)?A("last"):A("first"))}function b(p){a||(p.relatedTarget!==null&&p.relatedTarget===n.value?A("last"):A("first"))}return{focusableStartRef:n,focusableEndRef:r,focusableStyle:"position: absolute; height: 0; width: 0;",handleStartFocus:S,handleEndFocus:b}},render(){const{default:e}=this.$slots;if(e===void 0)return null;if(this.disabled)return e();const{active:t,focusableStyle:n}=this;return P(Oe,null,[P("div",{"aria-hidden":"true",tabindex:t?"0":"-1",ref:"focusableStartRef",style:n,onFocus:this.handleStartFocus}),e(),P("div",{"aria-hidden":"true",style:n,ref:"focusableEndRef",tabindex:t?"0":"-1",onFocus:this.handleEndFocus})])}});var pn=se(le,"WeakMap");const Ae=pn;var yn=Vt(Object.keys,Object);const wn=yn;var mn=Object.prototype,bn=mn.hasOwnProperty;function Sn(e){if(!Zt(e))return wn(e);var t=[];for(var n in Object(e))bn.call(e,n)&&n!="constructor"&&t.push(n);return t}function Ie(e){return _e(e)?Yt(e):Sn(e)}var An=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,En=/^\w*$/;function Re(e,t){if(K(e))return!1;var n=typeof e;return n=="number"||n=="symbol"||n=="boolean"||e==null||ft(e)?!0:En.test(e)||!An.test(e)||t!=null&&e in Object(t)}var Tn="Expected a function";function Le(e,t){if(typeof e!="function"||t!=null&&typeof t!="function")throw new TypeError(Tn);var n=function(){var r=arguments,o=t?t.apply(this,r):r[0],a=n.cache;if(a.has(o))return a.get(o);var i=e.apply(this,r);return n.cache=a.set(o,i)||a,i};return n.cache=new(Le.Cache||Me),n}Le.Cache=Me;var Cn=500;function xn(e){var t=Le(e,function(r){return n.size===Cn&&n.clear(),r}),n=t.cache;return t}var On=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,Pn=/\\(\\)?/g,$n=xn(function(e){var t=[];return e.charCodeAt(0)===46&&t.push(""),e.replace(On,function(n,r,o,a){t.push(o?a.replace(Pn,"$1"):r||n)}),t});const _n=$n;function pt(e,t){return K(e)?e:Re(e,t)?[e]:_n(Ut(e))}var Mn=1/0;function ue(e){if(typeof e=="string"||ft(e))return e;var t=e+"";return t=="0"&&1/e==-Mn?"-0":t}function yt(e,t){t=pt(t,e);for(var n=0,r=t.length;e!=null&&n<r;)e=e[ue(t[n++])];return n&&n==r?e:void 0}function In(e,t,n){var r=e==null?void 0:yt(e,t);return r===void 0?n:r}function Rn(e,t){for(var n=-1,r=t.length,o=e.length;++n<r;)e[o+n]=t[n];return e}function Ln(e,t){for(var n=-1,r=e==null?0:e.length,o=0,a=[];++n<r;){var i=e[n];t(i,n,e)&&(a[o++]=i)}return a}function Bn(){return[]}var Fn=Object.prototype,Nn=Fn.propertyIsEnumerable,Xe=Object.getOwnPropertySymbols,kn=Xe?function(e){return e==null?[]:(e=Object(e),Ln(Xe(e),function(t){return Nn.call(e,t)}))}:Bn;const Dn=kn;function Kn(e,t,n){var r=t(e);return K(e)?r:Rn(r,n(e))}function qe(e){return Kn(e,Ie,Dn)}var zn=se(le,"DataView");const Ee=zn;var Gn=se(le,"Promise");const Te=Gn;var Hn=se(le,"Set");const Ce=Hn;var Ve="[object Map]",Un="[object Object]",Ze="[object Promise]",Ye="[object Set]",Je="[object WeakMap]",Qe="[object DataView]",Wn=j(Ee),jn=j(be),Xn=j(Te),qn=j(Ce),Vn=j(Ae),z=dt;(Ee&&z(new Ee(new ArrayBuffer(1)))!=Qe||be&&z(new be)!=Ve||Te&&z(Te.resolve())!=Ze||Ce&&z(new Ce)!=Ye||Ae&&z(new Ae)!=Je)&&(z=function(e){var t=dt(e),n=t==Un?e.constructor:void 0,r=n?j(n):"";if(r)switch(r){case Wn:return Qe;case jn:return Ve;case Xn:return Ze;case qn:return Ye;case Vn:return Je}return t});const et=z;var Zn="__lodash_hash_undefined__";function Yn(e){return this.__data__.set(e,Zn),this}function Jn(e){return this.__data__.has(e)}function ae(e){var t=-1,n=e==null?0:e.length;for(this.__data__=new Me;++t<n;)this.add(e[t])}ae.prototype.add=ae.prototype.push=Yn;ae.prototype.has=Jn;function Qn(e,t){for(var n=-1,r=e==null?0:e.length;++n<r;)if(t(e[n],n,e))return!0;return!1}function er(e,t){return e.has(t)}var tr=1,nr=2;function wt(e,t,n,r,o,a){var i=n&tr,s=e.length,l=t.length;if(s!=l&&!(i&&l>s))return!1;var u=a.get(e),f=a.get(t);if(u&&f)return u==t&&f==e;var d=-1,w=!0,A=n&nr?new ae:void 0;for(a.set(e,t),a.set(t,e);++d<s;){var S=e[d],b=t[d];if(r)var p=i?r(b,S,d,t,e,a):r(S,b,d,e,t,a);if(p!==void 0){if(p)continue;w=!1;break}if(A){if(!Qn(t,function(h,C){if(!er(A,C)&&(S===h||o(S,h,n,r,a)))return A.push(C)})){w=!1;break}}else if(!(S===b||o(S,b,n,r,a))){w=!1;break}}return a.delete(e),a.delete(t),w}function rr(e){var t=-1,n=Array(e.size);return e.forEach(function(r,o){n[++t]=[o,r]}),n}function or(e){var t=-1,n=Array(e.size);return e.forEach(function(r){n[++t]=r}),n}var ar=1,ir=2,sr="[object Boolean]",lr="[object Date]",ur="[object Error]",fr="[object Map]",dr="[object Number]",cr="[object RegExp]",hr="[object Set]",vr="[object String]",gr="[object Symbol]",pr="[object ArrayBuffer]",yr="[object DataView]",tt=Ke?Ke.prototype:void 0,ge=tt?tt.valueOf:void 0;function wr(e,t,n,r,o,a,i){switch(n){case yr:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case pr:return!(e.byteLength!=t.byteLength||!a(new ze(e),new ze(t)));case sr:case lr:case dr:return Jt(+e,+t);case ur:return e.name==t.name&&e.message==t.message;case cr:case vr:return e==t+"";case fr:var s=rr;case hr:var l=r&ar;if(s||(s=or),e.size!=t.size&&!l)return!1;var u=i.get(e);if(u)return u==t;r|=ir,i.set(e,t);var f=wt(s(e),s(t),r,o,a,i);return i.delete(e),f;case gr:if(ge)return ge.call(e)==ge.call(t)}return!1}var mr=1,br=Object.prototype,Sr=br.hasOwnProperty;function Ar(e,t,n,r,o,a){var i=n&mr,s=qe(e),l=s.length,u=qe(t),f=u.length;if(l!=f&&!i)return!1;for(var d=l;d--;){var w=s[d];if(!(i?w in t:Sr.call(t,w)))return!1}var A=a.get(e),S=a.get(t);if(A&&S)return A==t&&S==e;var b=!0;a.set(e,t),a.set(t,e);for(var p=i;++d<l;){w=s[d];var h=e[w],C=t[w];if(r)var $=i?r(C,h,w,t,e,a):r(h,C,w,e,t,a);if(!($===void 0?h===C||o(h,C,n,r,a):$)){b=!1;break}p||(p=w=="constructor")}if(b&&!p){var c=e.constructor,v=t.constructor;c!=v&&"constructor"in e&&"constructor"in t&&!(typeof c=="function"&&c instanceof c&&typeof v=="function"&&v instanceof v)&&(b=!1)}return a.delete(e),a.delete(t),b}var Er=1,nt="[object Arguments]",rt="[object Array]",Y="[object Object]",Tr=Object.prototype,ot=Tr.hasOwnProperty;function Cr(e,t,n,r,o,a){var i=K(e),s=K(t),l=i?rt:et(e),u=s?rt:et(t);l=l==nt?Y:l,u=u==nt?Y:u;var f=l==Y,d=u==Y,w=l==u;if(w&&Ge(e)){if(!Ge(t))return!1;i=!0,f=!1}if(w&&!f)return a||(a=new te),i||Qt(e)?wt(e,t,n,r,o,a):wr(e,t,l,n,r,o,a);if(!(n&Er)){var A=f&&ot.call(e,"__wrapped__"),S=d&&ot.call(t,"__wrapped__");if(A||S){var b=A?e.value():e,p=S?t.value():t;return a||(a=new te),o(b,p,n,r,a)}}return w?(a||(a=new te),Ar(e,t,n,r,o,a)):!1}function Be(e,t,n,r,o){return e===t?!0:e==null||t==null||!He(e)&&!He(t)?e!==e&&t!==t:Cr(e,t,n,r,Be,o)}var xr=1,Or=2;function Pr(e,t,n,r){var o=n.length,a=o,i=!r;if(e==null)return!a;for(e=Object(e);o--;){var s=n[o];if(i&&s[2]?s[1]!==e[s[0]]:!(s[0]in e))return!1}for(;++o<a;){s=n[o];var l=s[0],u=e[l],f=s[1];if(i&&s[2]){if(u===void 0&&!(l in e))return!1}else{var d=new te;if(r)var w=r(u,f,l,e,t,d);if(!(w===void 0?Be(f,u,xr|Or,r,d):w))return!1}}return!0}function mt(e){return e===e&&!en(e)}function $r(e){for(var t=Ie(e),n=t.length;n--;){var r=t[n],o=e[r];t[n]=[r,o,mt(o)]}return t}function bt(e,t){return function(n){return n==null?!1:n[e]===t&&(t!==void 0||e in Object(n))}}function _r(e){var t=$r(e);return t.length==1&&t[0][2]?bt(t[0][0],t[0][1]):function(n){return n===e||Pr(n,e,t)}}function Mr(e,t){return e!=null&&t in Object(e)}function Ir(e,t,n){t=pt(t,e);for(var r=-1,o=t.length,a=!1;++r<o;){var i=ue(t[r]);if(!(a=e!=null&&n(e,i)))break;e=e[i]}return a||++r!=o?a:(o=e==null?0:e.length,!!o&&tn(o)&&nn(i,o)&&(K(e)||rn(e)))}function Rr(e,t){return e!=null&&Ir(e,t,Mr)}var Lr=1,Br=2;function Fr(e,t){return Re(e)&&mt(t)?bt(ue(e),t):function(n){var r=In(n,e);return r===void 0&&r===t?Rr(n,e):Be(t,r,Lr|Br)}}function Nr(e){return function(t){return t==null?void 0:t[e]}}function kr(e){return function(t){return yt(t,e)}}function Dr(e){return Re(e)?Nr(ue(e)):kr(e)}function Kr(e){return typeof e=="function"?e:e==null?on:typeof e=="object"?K(e)?Fr(e[0],e[1]):_r(e):Dr(e)}function zr(e,t){return e&&an(e,t,Ie)}function Gr(e,t){return function(n,r){if(n==null)return n;if(!_e(n))return e(n,r);for(var o=n.length,a=t?o:-1,i=Object(n);(t?a--:++a<o)&&r(i[a],a,i)!==!1;);return n}}var Hr=Gr(zr);const Ur=Hr;function Wr(e,t){var n=-1,r=_e(e)?Array(e.length):[];return Ur(e,function(o,a,i){r[++n]=t(o,a,i)}),r}function jr(e,t){var n=K(e)?Wt:Wr;return n(e,Kr(t))}function at(e){return Array.isArray(e)?e:[e]}const xe={STOP:"STOP"};function St(e,t){const n=t(e);e.children!==void 0&&n!==xe.STOP&&e.children.forEach(r=>St(r,t))}function Xr(e,t={}){const{preserveGroup:n=!1}=t,r=[],o=n?i=>{i.isLeaf||(r.push(i.key),a(i.children))}:i=>{i.isLeaf||(i.isGroup||r.push(i.key),a(i.children))};function a(i){i.forEach(o)}return a(e),r}function qr(e,t){const{isLeaf:n}=e;return n!==void 0?n:!t(e)}function Vr(e){return e.children}function Zr(e){return e.key}function Yr(){return!1}function Jr(e,t){const{isLeaf:n}=e;return!(n===!1&&!Array.isArray(t(e)))}function Qr(e){return e.disabled===!0}function eo(e,t){return e.isLeaf===!1&&!Array.isArray(t(e))}function pe(e){var t;return e==null?[]:Array.isArray(e)?e:(t=e.checkedKeys)!==null&&t!==void 0?t:[]}function ye(e){var t;return e==null||Array.isArray(e)?[]:(t=e.indeterminateKeys)!==null&&t!==void 0?t:[]}function to(e,t){const n=new Set(e);return t.forEach(r=>{n.has(r)||n.add(r)}),Array.from(n)}function no(e,t){const n=new Set(e);return t.forEach(r=>{n.has(r)&&n.delete(r)}),Array.from(n)}function ro(e){return(e==null?void 0:e.type)==="group"}function Fo(e){const t=new Map;return e.forEach((n,r)=>{t.set(n.key,r)}),n=>{var r;return(r=t.get(n))!==null&&r!==void 0?r:null}}class oo extends Error{constructor(){super(),this.message="SubtreeNotLoadedError: checking a subtree whose required nodes are not fully loaded."}}function ao(e,t,n,r){return ie(t.concat(e),n,r,!1)}function io(e,t){const n=new Set;return e.forEach(r=>{const o=t.treeNodeMap.get(r);if(o!==void 0){let a=o.parent;for(;a!==null&&!(a.disabled||n.has(a.key));)n.add(a.key),a=a.parent}}),n}function so(e,t,n,r){const o=ie(t,n,r,!1),a=ie(e,n,r,!0),i=io(e,n),s=[];return o.forEach(l=>{(a.has(l)||i.has(l))&&s.push(l)}),s.forEach(l=>o.delete(l)),o}function we(e,t){const{checkedKeys:n,keysToCheck:r,keysToUncheck:o,indeterminateKeys:a,cascade:i,leafOnly:s,checkStrategy:l,allowNotLoaded:u}=e;if(!i)return r!==void 0?{checkedKeys:to(n,r),indeterminateKeys:Array.from(a)}:o!==void 0?{checkedKeys:no(n,o),indeterminateKeys:Array.from(a)}:{checkedKeys:Array.from(n),indeterminateKeys:Array.from(a)};const{levelTreeNodeMap:f}=t;let d;o!==void 0?d=so(o,n,t,u):r!==void 0?d=ao(r,n,t,u):d=ie(n,t,u,!1);const w=l==="parent",A=l==="child"||s,S=d,b=new Set,p=Math.max.apply(null,Array.from(f.keys()));for(let h=p;h>=0;h-=1){const C=h===0,$=f.get(h);for(const c of $){if(c.isLeaf)continue;const{key:v,shallowLoaded:x}=c;if(A&&x&&c.children.forEach(g=>{!g.disabled&&!g.isLeaf&&g.shallowLoaded&&S.has(g.key)&&S.delete(g.key)}),c.disabled||!x)continue;let m=!0,E=!1,T=!0;for(const g of c.children){const N=g.key;if(!g.disabled){if(T&&(T=!1),S.has(N))E=!0;else if(b.has(N)){E=!0,m=!1;break}else if(m=!1,E)break}}m&&!T?(w&&c.children.forEach(g=>{!g.disabled&&S.has(g.key)&&S.delete(g.key)}),S.add(v)):E&&b.add(v),C&&A&&S.has(v)&&S.delete(v)}}return{checkedKeys:Array.from(S),indeterminateKeys:Array.from(b)}}function ie(e,t,n,r){const{treeNodeMap:o,getChildren:a}=t,i=new Set,s=new Set(e);return e.forEach(l=>{const u=o.get(l);u!==void 0&&St(u,f=>{if(f.disabled)return xe.STOP;const{key:d}=f;if(!i.has(d)&&(i.add(d),s.add(d),eo(f.rawNode,a))){if(r)return xe.STOP;if(!n)throw new oo}})}),s}function lo(e,{includeGroup:t=!1,includeSelf:n=!0},r){var o;const a=r.treeNodeMap;let i=e==null?null:(o=a.get(e))!==null&&o!==void 0?o:null;const s={keyPath:[],treeNodePath:[],treeNode:i};if(i!=null&&i.ignored)return s.treeNode=null,s;for(;i;)!i.ignored&&(t||!i.isGroup)&&s.treeNodePath.push(i),i=i.parent;return s.treeNodePath.reverse(),n||s.treeNodePath.pop(),s.keyPath=s.treeNodePath.map(l=>l.key),s}function uo(e){if(e.length===0)return null;const t=e[0];return t.isGroup||t.ignored||t.disabled?t.getNext():t}function fo(e,t){const n=e.siblings,r=n.length,{index:o}=e;return t?n[(o+1)%r]:o===n.length-1?null:n[o+1]}function it(e,t,{loop:n=!1,includeDisabled:r=!1}={}){const o=t==="prev"?co:fo,a={reverse:t==="prev"};let i=!1,s=null;function l(u){if(u!==null){if(u===e){if(!i)i=!0;else if(!e.disabled&&!e.isGroup){s=e;return}}else if((!u.disabled||r)&&!u.ignored&&!u.isGroup){s=u;return}if(u.isGroup){const f=Fe(u,a);f!==null?s=f:l(o(u,n))}else{const f=o(u,!1);if(f!==null)l(f);else{const d=ho(u);d!=null&&d.isGroup?l(o(d,n)):n&&l(o(u,!0))}}}}return l(e),s}function co(e,t){const n=e.siblings,r=n.length,{index:o}=e;return t?n[(o-1+r)%r]:o===0?null:n[o-1]}function ho(e){return e.parent}function Fe(e,t={}){const{reverse:n=!1}=t,{children:r}=e;if(r){const{length:o}=r,a=n?o-1:0,i=n?-1:o,s=n?-1:1;for(let l=a;l!==i;l+=s){const u=r[l];if(!u.disabled&&!u.ignored)if(u.isGroup){const f=Fe(u,t);if(f!==null)return f}else return u}}return null}const vo={getChild(){return this.ignored?null:Fe(this)},getParent(){const{parent:e}=this;return e!=null&&e.isGroup?e.getParent():e},getNext(e={}){return it(this,"next",e)},getPrev(e={}){return it(this,"prev",e)}};function go(e,t){const n=t?new Set(t):void 0,r=[];function o(a){a.forEach(i=>{r.push(i),!(i.isLeaf||!i.children||i.ignored)&&(i.isGroup||n===void 0||n.has(i.key))&&o(i.children)})}return o(e),r}function po(e,t){const n=e.key;for(;t;){if(t.key===n)return!0;t=t.parent}return!1}function At(e,t,n,r,o,a=null,i=0){const s=[];return e.forEach((l,u)=>{var f;const d=Object.create(r);if(d.rawNode=l,d.siblings=s,d.level=i,d.index=u,d.isFirstChild=u===0,d.isLastChild=u+1===e.length,d.parent=a,!d.ignored){const w=o(l);Array.isArray(w)&&(d.children=At(w,t,n,r,o,d,i+1))}s.push(d),t.set(d.key,d),n.has(i)||n.set(i,[]),(f=n.get(i))===null||f===void 0||f.push(d)}),s}function No(e,t={}){var n;const r=new Map,o=new Map,{getDisabled:a=Qr,getIgnored:i=Yr,getIsGroup:s=ro,getKey:l=Zr}=t,u=(n=t.getChildren)!==null&&n!==void 0?n:Vr,f=t.ignoreEmptyChildren?c=>{const v=u(c);return Array.isArray(v)?v.length?v:null:v}:u,d=Object.assign({get key(){return l(this.rawNode)},get disabled(){return a(this.rawNode)},get isGroup(){return s(this.rawNode)},get isLeaf(){return qr(this.rawNode,f)},get shallowLoaded(){return Jr(this.rawNode,f)},get ignored(){return i(this.rawNode)},contains(c){return po(this,c)}},vo),w=At(e,r,o,d,f);function A(c){if(c==null)return null;const v=r.get(c);return v&&!v.isGroup&&!v.ignored?v:null}function S(c){if(c==null)return null;const v=r.get(c);return v&&!v.ignored?v:null}function b(c,v){const x=S(c);return x?x.getPrev(v):null}function p(c,v){const x=S(c);return x?x.getNext(v):null}function h(c){const v=S(c);return v?v.getParent():null}function C(c){const v=S(c);return v?v.getChild():null}const $={treeNodes:w,treeNodeMap:r,levelTreeNodeMap:o,maxLevel:Math.max(...o.keys()),getChildren:f,getFlattenedNodes(c){return go(w,c)},getNode:A,getPrev:b,getNext:p,getParent:h,getChild:C,getFirstAvailableNode(){return uo(w)},getPath(c,v={}){return lo(c,v,$)},getCheckedKeys(c,v={}){const{cascade:x=!0,leafOnly:m=!1,checkStrategy:E="all",allowNotLoaded:T=!1}=v;return we({checkedKeys:pe(c),indeterminateKeys:ye(c),cascade:x,leafOnly:m,checkStrategy:E,allowNotLoaded:T},$)},check(c,v,x={}){const{cascade:m=!0,leafOnly:E=!1,checkStrategy:T="all",allowNotLoaded:g=!1}=x;return we({checkedKeys:pe(v),indeterminateKeys:ye(v),keysToCheck:c==null?[]:at(c),cascade:m,leafOnly:E,checkStrategy:T,allowNotLoaded:g},$)},uncheck(c,v,x={}){const{cascade:m=!0,leafOnly:E=!1,checkStrategy:T="all",allowNotLoaded:g=!1}=x;return we({checkedKeys:pe(v),indeterminateKeys:ye(v),keysToUncheck:c==null?[]:at(c),cascade:m,leafOnly:E,checkStrategy:T,allowNotLoaded:g},$)},getNonLeafKeys(c={}){return Xr(w,c)}};return $}const yo={space:"6px",spaceArrow:"10px",arrowOffset:"10px",arrowOffsetVertical:"10px",arrowHeight:"6px",padding:"8px 14px"},wo=e=>{const{boxShadow2:t,popoverColor:n,textColor2:r,borderRadius:o,fontSize:a,dividerColor:i}=e;return Object.assign(Object.assign({},yo),{fontSize:a,borderRadius:o,color:n,dividerColor:i,textColor:r,boxShadow:t})},mo={name:"Popover",common:jt,self:wo},bo=mo,me={top:"bottom",bottom:"top",left:"right",right:"left"},_="var(--n-arrow-height) * 1.414",So=D([F("popover",`
 transition:
 box-shadow .3s var(--n-bezier),
 background-color .3s var(--n-bezier),
 color .3s var(--n-bezier);
 position: relative;
 font-size: var(--n-font-size);
 color: var(--n-text-color);
 box-shadow: var(--n-box-shadow);
 `,[D(">",[F("scrollbar",`
 height: inherit;
 max-height: inherit;
 `)]),de("raw",`
 background-color: var(--n-color);
 border-radius: var(--n-border-radius);
 `,[de("scrollable",[de("show-header-or-footer","padding: var(--n-padding);")])]),ce("header",`
 padding: var(--n-padding);
 border-bottom: 1px solid var(--n-divider-color);
 transition: border-color .3s var(--n-bezier);
 `),ce("footer",`
 padding: var(--n-padding);
 border-top: 1px solid var(--n-divider-color);
 transition: border-color .3s var(--n-bezier);
 `),oe("scrollable, show-header-or-footer",[ce("content",`
 padding: var(--n-padding);
 `)])]),F("popover-shared",`
 transform-origin: inherit;
 `,[F("popover-arrow-wrapper",`
 position: absolute;
 overflow: hidden;
 pointer-events: none;
 `,[F("popover-arrow",`
 transition: background-color .3s var(--n-bezier);
 position: absolute;
 display: block;
 width: calc(${_});
 height: calc(${_});
 box-shadow: 0 0 8px 0 rgba(0, 0, 0, .12);
 transform: rotate(45deg);
 background-color: var(--n-color);
 pointer-events: all;
 `)]),D("&.popover-transition-enter-from, &.popover-transition-leave-to",`
 opacity: 0;
 transform: scale(.85);
 `),D("&.popover-transition-enter-to, &.popover-transition-leave-from",`
 transform: scale(1);
 opacity: 1;
 `),D("&.popover-transition-enter-active",`
 transition:
 box-shadow .3s var(--n-bezier),
 background-color .3s var(--n-bezier),
 color .3s var(--n-bezier),
 opacity .15s var(--n-bezier-ease-out),
 transform .15s var(--n-bezier-ease-out);
 `),D("&.popover-transition-leave-active",`
 transition:
 box-shadow .3s var(--n-bezier),
 background-color .3s var(--n-bezier),
 color .3s var(--n-bezier),
 opacity .15s var(--n-bezier-ease-in),
 transform .15s var(--n-bezier-ease-in);
 `)]),I("top-start",`
 top: calc(${_} / -2);
 left: calc(${B("top-start")} - var(--v-offset-left));
 `),I("top",`
 top: calc(${_} / -2);
 transform: translateX(calc(${_} / -2)) rotate(45deg);
 left: 50%;
 `),I("top-end",`
 top: calc(${_} / -2);
 right: calc(${B("top-end")} + var(--v-offset-left));
 `),I("bottom-start",`
 bottom: calc(${_} / -2);
 left: calc(${B("bottom-start")} - var(--v-offset-left));
 `),I("bottom",`
 bottom: calc(${_} / -2);
 transform: translateX(calc(${_} / -2)) rotate(45deg);
 left: 50%;
 `),I("bottom-end",`
 bottom: calc(${_} / -2);
 right: calc(${B("bottom-end")} + var(--v-offset-left));
 `),I("left-start",`
 left: calc(${_} / -2);
 top: calc(${B("left-start")} - var(--v-offset-top));
 `),I("left",`
 left: calc(${_} / -2);
 transform: translateY(calc(${_} / -2)) rotate(45deg);
 top: 50%;
 `),I("left-end",`
 left: calc(${_} / -2);
 bottom: calc(${B("left-end")} + var(--v-offset-top));
 `),I("right-start",`
 right: calc(${_} / -2);
 top: calc(${B("right-start")} - var(--v-offset-top));
 `),I("right",`
 right: calc(${_} / -2);
 transform: translateY(calc(${_} / -2)) rotate(45deg);
 top: 50%;
 `),I("right-end",`
 right: calc(${_} / -2);
 bottom: calc(${B("right-end")} + var(--v-offset-top));
 `),...jr({top:["right-start","left-start"],right:["top-end","bottom-end"],bottom:["right-end","left-end"],left:["top-start","bottom-start"]},(e,t)=>{const n=["right","left"].includes(t),r=n?"width":"height";return e.map(o=>{const a=o.split("-")[1]==="end",s=`calc((${`var(--v-target-${r}, 0px)`} - ${_}) / 2)`,l=B(o);return D(`[v-placement="${o}"] >`,[F("popover-shared",[oe("center-arrow",[F("popover-arrow",`${t}: calc(max(${s}, ${l}) ${a?"+":"-"} var(--v-offset-${n?"left":"top"}));`)])])])})})]);function B(e){return["top","bottom"].includes(e.split("-")[0])?"var(--n-arrow-offset)":"var(--n-arrow-offset-vertical)"}function I(e,t){const n=e.split("-")[0],r=["top","bottom"].includes(n)?"height: var(--n-space-arrow);":"width: var(--n-space-arrow);";return D(`[v-placement="${e}"] >`,[F("popover-shared",`
 margin-${me[n]}: var(--n-space);
 `,[oe("show-arrow",`
 margin-${me[n]}: var(--n-space-arrow);
 `),oe("overlap",`
 margin: 0;
 `),Xt("popover-arrow-wrapper",`
 right: 0;
 left: 0;
 top: 0;
 bottom: 0;
 ${n}: 100%;
 ${me[n]}: auto;
 ${r}
 `,[F("popover-arrow",t)])])])}const Et=Object.assign(Object.assign({},$e.props),{to:re.propTo,show:Boolean,trigger:String,showArrow:Boolean,delay:Number,duration:Number,raw:Boolean,arrowPointToCenter:Boolean,arrowStyle:[String,Object],displayDirective:String,x:Number,y:Number,flip:Boolean,overlap:Boolean,placement:String,width:[Number,String],keepAliveOnHover:Boolean,scrollable:Boolean,contentStyle:[Object,String],headerStyle:[Object,String],footerStyle:[Object,String],internalDeactivateImmediately:Boolean,animated:Boolean,onClickoutside:Function,internalTrapFocus:Boolean,internalOnAfterLeave:Function,minWidth:Number,maxWidth:Number}),Ao=({arrowStyle:e,clsPrefix:t})=>P("div",{key:"__popover-arrow__",class:`${t}-popover-arrow-wrapper`},P("div",{class:`${t}-popover-arrow`,style:e})),Eo=Pe({name:"PopoverBody",inheritAttrs:!1,props:Et,setup(e,{slots:t,attrs:n}){const{namespaceRef:r,mergedClsPrefixRef:o,inlineThemeDisabled:a}=sn(e),i=$e("Popover","-popover",So,bo,e,o),s=R(null),l=Pt("NPopover"),u=R(null),f=R(e.show),d=R(!1);$t(()=>{const{show:m}=e;m&&!fn()&&!e.internalDeactivateImmediately&&(d.value=!0)});const w=W(()=>{const{trigger:m,onClickoutside:E}=e,T=[],{positionManuallyRef:{value:g}}=l;return g||(m==="click"&&!E&&T.push([Ne,c,void 0,{capture:!0}]),m==="hover"&&T.push([hn,$])),E&&T.push([Ne,c,void 0,{capture:!0}]),(e.displayDirective==="show"||e.animated&&d.value)&&T.push([_t,e.show]),T}),A=W(()=>{const m=e.width==="trigger"?void 0:he(e.width),E=[];m&&E.push({width:m});const{maxWidth:T,minWidth:g}=e;return T&&E.push({maxWidth:he(T)}),g&&E.push({maxWidth:he(g)}),a||E.push(S.value),E}),S=W(()=>{const{common:{cubicBezierEaseInOut:m,cubicBezierEaseIn:E,cubicBezierEaseOut:T},self:{space:g,spaceArrow:N,padding:X,fontSize:k,textColor:y,dividerColor:O,color:M,boxShadow:G,borderRadius:H,arrowHeight:L,arrowOffset:Tt,arrowOffsetVertical:Ct}}=i.value;return{"--n-box-shadow":G,"--n-bezier":m,"--n-bezier-ease-in":E,"--n-bezier-ease-out":T,"--n-font-size":k,"--n-text-color":y,"--n-color":M,"--n-divider-color":O,"--n-border-radius":H,"--n-arrow-height":L,"--n-arrow-offset":Tt,"--n-arrow-offset-vertical":Ct,"--n-padding":X,"--n-space":g,"--n-space-arrow":N}}),b=a?qt("popover",void 0,S,e):void 0;l.setBodyInstance({syncPosition:p}),lt(()=>{l.setBodyInstance(null)}),st(J(e,"show"),m=>{e.animated||(m?f.value=!0:f.value=!1)});function p(){var m;(m=s.value)===null||m===void 0||m.syncPosition()}function h(m){e.trigger==="hover"&&e.keepAliveOnHover&&e.show&&l.handleMouseEnter(m)}function C(m){e.trigger==="hover"&&e.keepAliveOnHover&&l.handleMouseLeave(m)}function $(m){e.trigger==="hover"&&!v().contains(m.target)&&l.handleMouseMoveOutside(m)}function c(m){(e.trigger==="click"&&!v().contains(m.target)||e.onClickoutside)&&l.handleClickOutside(m)}function v(){return l.getTriggerElement()}Q(Lt,u),Q(Bt,null),Q(Ft,null);function x(){if(b==null||b.onRender(),!(e.displayDirective==="show"||e.show||e.animated&&d.value))return null;let E;const T=l.internalRenderBodyRef.value,{value:g}=o;if(T)E=T([`${g}-popover-shared`,b==null?void 0:b.themeClass.value,e.overlap&&`${g}-popover-shared--overlap`,e.showArrow&&`${g}-popover-shared--show-arrow`,e.arrowPointToCenter&&`${g}-popover-shared--center-arrow`],u,A.value,h,C);else{const{value:N}=l.extraClassRef,{internalTrapFocus:X}=e,k=!ke(t.header)||!ke(t.footer),y=()=>{var O;const M=k?P(Oe,null,fe(t.header,L=>L?P("div",{class:`${g}-popover__header`,style:e.headerStyle},L):null),fe(t.default,L=>L?P("div",{class:`${g}-popover__content`,style:e.contentStyle},t):null),fe(t.footer,L=>L?P("div",{class:`${g}-popover__footer`,style:e.footerStyle},L):null)):e.scrollable?(O=t.default)===null||O===void 0?void 0:O.call(t):P("div",{class:`${g}-popover__content`,style:e.contentStyle},t),G=e.scrollable?P(kt,{contentClass:k?void 0:`${g}-popover__content`,contentStyle:k?void 0:e.contentStyle},{default:()=>M}):M,H=e.showArrow?Ao({arrowStyle:e.arrowStyle,clsPrefix:g}):null;return[G,H]};E=P("div",It({class:[`${g}-popover`,`${g}-popover-shared`,b==null?void 0:b.themeClass.value,N.map(O=>`${g}-${O}`),{[`${g}-popover--scrollable`]:e.scrollable,[`${g}-popover--show-header-or-footer`]:k,[`${g}-popover--raw`]:e.raw,[`${g}-popover-shared--overlap`]:e.overlap,[`${g}-popover-shared--show-arrow`]:e.showArrow,[`${g}-popover-shared--center-arrow`]:e.arrowPointToCenter}],ref:u,style:A.value,onKeydown:l.handleKeydown,onMouseenter:h,onMouseleave:C},n),X?P(gn,{active:e.show,autoFocus:!0},{default:y}):y())}return ut(E,w.value)}return{displayed:d,namespace:r,isMounted:l.isMountedRef,zIndex:l.zIndexRef,followerRef:s,adjustedTo:re(e),followerEnabled:f,renderContentNode:x}},render(){return P(Nt,{ref:"followerRef",zIndex:this.zIndex,show:this.show,enabled:this.followerEnabled,to:this.adjustedTo,x:this.x,y:this.y,flip:this.flip,placement:this.placement,containerClass:this.namespace,overlap:this.overlap,width:this.width==="trigger"?"target":void 0,teleportDisabled:this.adjustedTo===re.tdkey},{default:()=>this.animated?P(Mt,{name:"popover-transition",appear:this.isMounted,onEnter:()=>{this.followerEnabled=!0},onAfterLeave:()=>{var e;(e=this.internalOnAfterLeave)===null||e===void 0||e.call(this),this.followerEnabled=!1,this.displayed=!1}},{default:this.renderContentNode}):this.renderContentNode()})}}),To=Object.keys(Et),Co={focus:["onFocus","onBlur"],click:["onClick"],hover:["onMouseenter","onMouseleave"],manual:[],nested:["onFocus","onBlur","onMouseenter","onMouseleave","onClick"]};function xo(e,t,n){Co[t].forEach(r=>{e.props?e.props=Object.assign({},e.props):e.props={};const o=e.props[r],a=n[r];o?e.props[r]=(...i)=>{o(...i),a(...i)}:e.props[r]=a})}const Oo=ne("").type,Po={show:{type:Boolean,default:void 0},defaultShow:Boolean,showArrow:{type:Boolean,default:!0},trigger:{type:String,default:"hover"},delay:{type:Number,default:100},duration:{type:Number,default:100},raw:Boolean,placement:{type:String,default:"top"},x:Number,y:Number,arrowPointToCenter:Boolean,disabled:Boolean,getDisabled:Function,displayDirective:{type:String,default:"if"},arrowStyle:[String,Object],flip:{type:Boolean,default:!0},animated:{type:Boolean,default:!0},width:{type:[Number,String],default:void 0},overlap:Boolean,keepAliveOnHover:{type:Boolean,default:!0},zIndex:Number,to:re.propTo,scrollable:Boolean,contentStyle:[Object,String],headerStyle:[Object,String],footerStyle:[Object,String],onClickoutside:Function,"onUpdate:show":[Function,Array],onUpdateShow:[Function,Array],internalDeactivateImmediately:Boolean,internalSyncTargetWithParent:Boolean,internalInheritedEventHandlers:{type:Array,default:()=>[]},internalTrapFocus:Boolean,internalExtraClass:{type:Array,default:()=>[]},onShow:[Function,Array],onHide:[Function,Array],arrow:{type:Boolean,default:void 0},minWidth:Number,maxWidth:Number},$o=Object.assign(Object.assign(Object.assign({},$e.props),Po),{internalOnAfterLeave:Function,internalRenderBody:Function}),ko=Pe({name:"Popover",inheritAttrs:!1,props:$o,__popover__:!0,setup(e){const t=Dt(),n=R(null),r=W(()=>e.show),o=R(e.defaultShow),a=Kt(r,o),i=Ue(()=>e.disabled?!1:a.value),s=()=>{if(e.disabled)return!0;const{getDisabled:y}=e;return!!(y!=null&&y())},l=()=>s()?!1:a.value,u=dn(e,["arrow","showArrow"]),f=W(()=>e.overlap?!1:u.value);let d=null;const w=R(null),A=R(null),S=Ue(()=>e.x!==void 0&&e.y!==void 0);function b(y){const{"onUpdate:show":O,onUpdateShow:M,onShow:G,onHide:H}=e;o.value=y,O&&Z(O,y),M&&Z(M,y),y&&G&&Z(G,!0),y&&H&&Z(H,!1)}function p(){d&&d.syncPosition()}function h(){const{value:y}=w;y&&(window.clearTimeout(y),w.value=null)}function C(){const{value:y}=A;y&&(window.clearTimeout(y),A.value=null)}function $(){const y=s();if(e.trigger==="focus"&&!y){if(l())return;b(!0)}}function c(){const y=s();if(e.trigger==="focus"&&!y){if(!l())return;b(!1)}}function v(){const y=s();if(e.trigger==="hover"&&!y){if(C(),w.value!==null||l())return;const O=()=>{b(!0),w.value=null},{delay:M}=e;M===0?O():w.value=window.setTimeout(O,M)}}function x(){const y=s();if(e.trigger==="hover"&&!y){if(h(),A.value!==null||!l())return;const O=()=>{b(!1),A.value=null},{duration:M}=e;M===0?O():A.value=window.setTimeout(O,M)}}function m(){x()}function E(y){var O;!l()||(e.trigger==="click"&&(h(),C(),b(!1)),(O=e.onClickoutside)===null||O===void 0||O.call(e,y))}function T(){if(e.trigger==="click"&&!s()){h(),C();const y=!l();b(y)}}function g(y){!e.internalTrapFocus||y.key==="Escape"&&(h(),C(),b(!1))}function N(y){o.value=y}function X(){var y;return(y=n.value)===null||y===void 0?void 0:y.targetRef}function k(y){d=y}return Q("NPopover",{getTriggerElement:X,handleKeydown:g,handleMouseEnter:v,handleMouseLeave:x,handleClickOutside:E,handleMouseMoveOutside:m,setBodyInstance:k,positionManuallyRef:S,isMountedRef:t,zIndexRef:J(e,"zIndex"),extraClassRef:J(e,"internalExtraClass"),internalRenderBodyRef:J(e,"internalRenderBody")}),{binderInstRef:n,positionManually:S,mergedShowConsideringDisabledProp:i,uncontrolledShow:o,mergedShowArrow:f,getMergedShow:l,setShow:N,handleClick:T,handleMouseEnter:v,handleMouseLeave:x,handleFocus:$,handleBlur:c,syncPosition:p}},render(){var e;const{positionManually:t,$slots:n}=this;let r,o=!1;if(!t&&(n.activator?r=We(n,"activator"):r=We(n,"trigger"),r)){r=Rt(r),r=r.type===Oo?P("span",[r]):r;const a={onClick:this.handleClick,onMouseenter:this.handleMouseEnter,onMouseleave:this.handleMouseLeave,onFocus:this.handleFocus,onBlur:this.handleBlur};if(!((e=r.type)===null||e===void 0)&&e.__popover__)o=!0,r.props||(r.props={internalSyncTargetWithParent:!0,internalInheritedEventHandlers:[]}),r.props.internalSyncTargetWithParent=!0,r.props.internalInheritedEventHandlers?r.props.internalInheritedEventHandlers=[a,...r.props.internalInheritedEventHandlers]:r.props.internalInheritedEventHandlers=[a];else{const{internalInheritedEventHandlers:i}=this,s=[a,...i],l={onBlur:u=>{s.forEach(f=>{f.onBlur(u)})},onFocus:u=>{s.forEach(f=>{f.onFocus(u)})},onClick:u=>{s.forEach(f=>{f.onClick(u)})},onMouseenter:u=>{s.forEach(f=>{f.onMouseenter(u)})},onMouseleave:u=>{s.forEach(f=>{f.onMouseleave(u)})}};xo(r,i?"nested":t?"manual":this.trigger,l)}}return P(zt,{ref:"binderInstRef",syncTarget:!o,syncTargetWithParent:this.internalSyncTargetWithParent},{default:()=>{this.mergedShowConsideringDisabledProp;const a=this.getMergedShow();return[this.internalTrapFocus&&a?ut(P("div",{style:{position:"fixed",inset:0}}),[[Gt,{enabled:a,zIndex:this.zIndex}]]):null,t?null:P(Ht,null,{default:()=>r}),P(Eo,un(this.$props,To,Object.assign(Object.assign({},this.$attrs),{showArrow:this.mergedShowArrow,show:a})),{default:()=>{var i,s;return(s=(i=this.$slots).default)===null||s===void 0?void 0:s.call(i)},header:()=>{var i,s;return(s=(i=this.$slots).header)===null||s===void 0?void 0:s.call(i)},footer:()=>{var i,s;return(s=(i=this.$slots).footer)===null||s===void 0?void 0:s.call(i)}})]}})}});export{ko as N,Ao as a,Po as b,No as c,Fo as d,un as k,bo as p,Bo as r,dn as u};
