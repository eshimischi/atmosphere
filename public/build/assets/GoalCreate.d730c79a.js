import{c as p,b as d,_ as k}from"./atmosphere-ui.es.343f9b42.js";import{W as v,o as _,a as y,d as a,w as l,u as e,H as x,r as V,k as g,b as u,N as w,t as h,i as N,f as b}from"./app.c4e32cc5.js";import{_ as $}from"./AppLayout.f085efbf.js";import{f as C}from"./index.2e08e1eb.js";import{N as D}from"./DatePicker.17201242.js";import"./plugin-vue_export-helper.21dcd24c.js";import"./index.a95d9f5e.js";import"./Suffix.a2ca0b82.js";import"./Icon.c108adb9.js";const B={props:{resource:{type:Object,default:()=>({name:""})}},emits:["close"],setup(m,{expose:r}){var c;const n=m,t=v({name:(c=n.resource)==null?void 0:c.name,target:"",amount:"",due_date:new Date});return r({submit:async()=>{const f=n.meal?"put":"post",o=n.meal?`/goals/${n.resource.id}`:"/goals";t.transform(s=>({...s,due_date:C(new Date(t.due_date),"yyyy-MM-dd")})).submit(f,o,{onSuccess:async()=>{f=="post"&&(await x(),t.reset())}})}}),(f,o)=>(_(),y("div",null,[a(e(d),{label:"Title"},{default:l(()=>[a(e(p),{modelValue:e(t).name,"onUpdate:modelValue":o[0]||(o[0]=s=>e(t).name=s),placeholder:"Your goal's name"},null,8,["modelValue"])]),_:1}),a(e(d),{label:"Target amount"},{default:l(()=>[a(e(p),{modelValue:e(t).target,"onUpdate:modelValue":o[1]||(o[1]=s=>e(t).target=s),type:"number"},null,8,["modelValue"])]),_:1}),a(e(d),{label:"Amount saved"},{default:l(()=>[a(e(p),{modelValue:e(t).amount,"onUpdate:modelValue":o[2]||(o[2]=s=>e(t).amount=s),type:"number"},null,8,["modelValue"])]),_:1}),a(e(d),{label:"Due date"},{default:l(()=>[a(e(D),{value:e(t).due_date,"onUpdate:value":o[3]||(o[3]=s=>e(t).due_date=s),type:"date"},null,8,["value"])]),_:1})]))}},T={class:"flex justify-between"},U=b(" Goals "),j={key:0},F=b("Editing "),S={class:"font-bold"},E=b(" Save "),M={class:"py-12"},O={class:"px-6 mx-auto max-w-7xl"},q={props:{meals:{type:[Object,null],default:null}},setup(m){const r=V(null),n=()=>{r.value.submit()};return(t,i)=>(_(),g($,null,{header:l(()=>[u("div",T,[u("div",null,[a(e(w),{href:"/meals",class:"block text-xl font-semibold leading-tight text-pink-500"},{default:l(()=>[U]),_:1}),m.meals?(_(),y("p",j,[F,u("span",S,h(m.meals.name),1)])):N("",!0)]),u("div",null,[a(e(k),{class:"text-white bg-pink-400",onClick:i[0]||(i[0]=c=>n())},{default:l(()=>[E]),_:1})])])]),default:l(()=>[u("div",M,[u("div",O,[a(B,{form:t.form,onClose:t.close,ref_key:"resourceForm",ref:r},null,8,["form","onClose"])])])]),_:1}))}};export{q as default};
