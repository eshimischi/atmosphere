import{E as g}from"./atmosphere-ui.df5681b0.js";import{g as v,_ as w,a as D}from"./AppLayout.d865f89d.js";import{u as T,_ as $,F as M}from"./useServerSearch.2eccf703.js";import{a as S,f as k,M as C}from"./index.c41d124e.js";import{q as y,o as c,c as x,d as t,t as n,f as s,A as F,r as f,g as p,b as d,a as m,h as O,F as V,e as A,i as j}from"./app.cf37a944.js";import{f as _}from"./formatMoney.a91b934f.js";import{_ as B}from"./WatchlistModal.39e3d24d.js";import"./_plugin-vue_export-helper.cdc0426e.js";import"./naiveui.c9ccbfb7.js";import"./Modal.0d748749.js";/* empty css                                              */import"./LogerInput.572fb66a.js";import"./WidgetCard.2dad7073.js";import"./SectionTitle.d24cbe5a.js";import"./SectionNav.5be3a928.js";import"./index.b7b51b28.js";const E={class:"overflow-hidden bg-white rounded-lg shadow-md"},L={class:"p-4 font-bold"},N={class:"text-primary"},q={class:"p-4"},U={class:"rounded-md bg-secondary/10 px-4 py-2"},W=t("h5",{class:"text-body-1/80"},"This Month",-1),R={class:"font-bold text-secondary"},z={class:"flex justify-between text-xs space-x-2"},G={class:"px-5 py-2 mt-4 bg-secondary/10 w-full bg-opacity-25 rounded-md"},H=t("span",{class:"text-body-1/80"}," Last month: ",-1),I={class:"font-bold text-secondary"},J={class:"px-5 py-2 mt-4 bg-secondary/10 w-full bg-opacity-25 rounded-md"},K=t("span",{class:"text-body-1/80"}," Target: ",-1),P={class:"font-bold text-secondary"},Q={class:"grid grid-cols-2 p-4 pb-2 bg-primary text-white mx-4 rounded-xl"},X={class:"text-center"},Y=t("span",{class:"text-xs"},"Last transaction date",-1),Z={class:"text-center"},tt=t("span",{class:"text-xs"},"Transactions",-1),et=t("footer",{class:"text-primary px-4 pt-2 pb-4"},[t("button",null,"Show more")],-1),st={__name:"WatchlistCard",props:{item:{type:Object,required:!0}},setup(e){const l=e,u=y(()=>v(l.item.data.month.total,l.item.data.prevMonth.total)||0);return(r,h)=>(c(),x("article",E,[t("h4",L,[t("span",N,n(e.item.name),1),t("p",null,[t("small",null,n(e.item.description),1)])]),t("section",q,[t("div",U,[W,t("h4",R,n(s(_)(e.item.data.month.total)),1)]),t("div",z,[t("div",G,[H,t("span",I,n(s(u))+"%",1)]),t("div",J,[K,t("span",P,n(s(_)(e.item.data.month.target||0)),1)])])]),t("section",Q,[t("div",X,[t("h4",null,n(s(S)(e.item.data.month.lastTransactionDate,"--")),1),Y]),t("div",Z,[t("h4",null,n(e.item.data.month.transactionsCount||0),1),tt])]),et]))}},at=j(" Add WatchList "),ot={class:"w-full"},nt={class:"grid lg:grid-cols-3 gap-4 mt-4"},Dt={__name:"Watchlist",props:{user:{type:Object,required:!0},data:{type:Array,default(){return[]}},categories:{type:Array,default(){return[]}},accounts:{type:Array,default(){return[]}},serverSearchOptions:{type:Object,default:()=>({})}},setup(e){const l=e,{serverSearchOptions:u}=F(l),{state:r}=T(u),h=y(()=>"Spending watchlist for "+k(r.dates.startDate,C.long)),i=f(!1),b=f(null);return(rt,o)=>(c(),p(w,{title:s(h)},{header:d(()=>[m($,null,{actions:d(()=>[m(s(g),{class:"w-full h-12 border-none bg-base-lvl-1 text-body",startDate:s(r).dates.startDate,"onUpdate:startDate":o[0]||(o[0]=a=>s(r).dates.startDate=a),endDate:s(r).dates.endDate,"onUpdate:endDate":o[1]||(o[1]=a=>s(r).dates.endDate=a),controlsClass:"bg-transparent text-body hover:bg-base-lvl-1","next-mode":"month"},null,8,["startDate","endDate"]),t("div",null,[m(D,{variant:"inverse",onClick:o[2]||(o[2]=a=>i.value=!i.value)},{default:d(()=>[at]),_:1})])]),_:1})]),default:d(()=>[m(M,{title:"Finance",accounts:e.accounts,ref:"financeTemplateRef"},{default:d(()=>[t("article",ot,[t("section",nt,[(c(!0),x(V,null,O(e.data,a=>(c(),p(st,{key:a.name,item:a},null,8,["item"]))),128))])]),i.value?(c(),p(B,{key:0,show:i.value,"onUpdate:show":o[3]||(o[3]=a=>i.value=a),"form-data":b.value},null,8,["show","form-data"])):A("",!0)]),_:1},8,["accounts"])]),_:1},8,["title"]))}};export{Dt as default};
