import{_ as v}from"./SectionTitle.23b660a7.js";import{Z as S}from"./atmosphere-ui.588c294c.js";import{o as l,c as f,d as o,a as x,b as m,i as w,t as p,k as g,g as b,n as r,e as i,f as n,q as y,r as D}from"./app.cefd7668.js";import{g as $}from"./index.341cb78b.js";import{C as B,r as P,D as N}from"./index.4ea4832e.js";const T={class:"flex justify-between"},V={class:"flex items-center justify-end w-full"},q={__name:"SectionCard",props:{classes:{type:String,default:"mt-1"},cardClass:{type:String,default:"mt-2 bg-base-lvl-3 border border-base rounded-lg shadow-md"},sectionTitle:{type:String,default:""},action:{type:[Object,null]}},emits:["action"],setup(t){return(a,e)=>(l(),f("div",{class:r([t.classes,"overflow-hidden text-body-1"])},[o("div",T,[x(v,{type:"secondary",class:"w-full"},{default:m(()=>[w(p(t.sectionTitle),1)]),_:1}),o("div",V,[t.action||a.$slots.action?g(a.$slots,"action",{key:0},()=>[t.action?(l(),b(n(S),{key:0,class:"flex items-center text-primary",onClick:e[0]||(e[0]=c=>a.$emit("action"))},{default:m(()=>[o("span",null,p(t.action.label),1),t.action.iconClass?(l(),f("i",{key:0,class:r(["ml-2",t.action.iconClass])},null,2)):i("",!0)]),_:1})):i("",!0)]):i("",!0)])]),o("div",{class:r([t.cardClass,"overflow-hidden border-base"])},[g(a.$slots,"default")],2)],2))}},z={__name:"DonutChart",props:{series:{type:Array,default(){return[]}},value:{type:String},label:{type:String},legend:{type:Boolean,default:!0},legendPosition:{type:String,default:"left"},scaleType:{default:"logarithmic"},scalePosition:{type:String,default:"left"}},emits:"clicked",setup(t,{emit:a}){const e=t;B.register(...P);const c=y(()=>({labels:e.series.map(s=>s[e.label]),datasets:[{data:e.series.map(s=>s[e.value]),backgroundColor:e.series.map(()=>$()),borderJoinStyle:"mittr"}]})),d=D(),h=y(()=>({plugins:{...e.legend&&{legend:{position:e.legendPosition}},title:{display:e.title,text:e.title}},layout:{padding:20},onClick:(s,...C)=>{const u=d.value.chartInstance;console.log(u.tooltip.dataPoints);const k=u.tooltip.dataPoints[0].dataIndex;a("clicked",k)}}));return(s,C)=>(l(),b(n(N),{ref_key:"chartRef",ref:d,chartData:n(c),options:n(h)},null,8,["chartData","options"]))}};export{q as _,z as a};
