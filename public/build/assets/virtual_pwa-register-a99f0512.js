import{ap as u}from"./app-fc313f38.js";function g(d={}){const{immediate:l=!1,onNeedRefresh:f,onOfflineReady:i,onRegistered:r,onRegisteredSW:s,onRegisterError:o}=d;let t,a;const c=async(n=!0)=>{await a};async function p(){if("serviceWorker"in navigator){const{Workbox:n}=await u(()=>import("./workbox-window.prod.es5-a7b12eab.js"),[]);t=new n("http://atmosphere.test:8080/build/sw.js",{scope:"http://atmosphere.test:8080/build/",type:"classic"}),t.addEventListener("activated",e=>{(e.isUpdate||e.isExternal)&&window.location.reload()}),t.addEventListener("installed",e=>{e.isUpdate||i==null||i()}),t.register({immediate:l}).then(e=>{s?s("http://atmosphere.test:8080/build/sw.js",e):r==null||r(e)}).catch(e=>{o==null||o(e)})}}return a=p(),c}export{g as registerSW};
