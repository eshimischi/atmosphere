import{J as S}from"./ActionMessage.4b08d72d.js";import{_ as L}from"./ActionSection.4ee9e188.js";import{J as A}from"./Button.cdbb2fb8.js";import{J as P}from"./ConfirmationModal.89bb72f7.js";import{J as z}from"./DangerButton.838b08b8.js";import{J as V}from"./DialogModal.66d3fddc.js";import{J as I}from"./FormSection.dc768c13.js";import{J as N}from"./Input.3189304c.js";import{J as D}from"./InputError.4e908049.js";import{_ as E}from"./Label.d85f9a67.js";import{J as O}from"./SecondaryButton.9c7b98b2.js";import{J as U}from"./SectionBorder.ff15222a.js";import{_ as q}from"./plugin-vue_export-helper.21dcd24c.js";import{v as c,o as r,a as i,d as n,w as o,i as u,b as s,F as h,e as f,y as v,f as l,t as g}from"./app.c4e32cc5.js";import"./SectionTitle.f0e58d40.js";import"./Modal.50d5072f.js";const G={components:{JetActionMessage:S,JetActionSection:L,JetButton:A,JetConfirmationModal:P,JetDangerButton:z,JetDialogModal:V,JetFormSection:I,JetInput:N,JetInputError:D,JetLabel:E,JetSecondaryButton:O,JetSectionBorder:U},props:["team","availableRoles","userPermissions"],data(){return{addTeamMemberForm:this.$inertia.form({email:"",role:null}),updateRoleForm:this.$inertia.form({role:null}),leaveTeamForm:this.$inertia.form(),removeTeamMemberForm:this.$inertia.form(),currentlyManagingRole:!1,managingRoleFor:null,confirmingLeavingTeam:!1,teamMemberBeingRemoved:null}},methods:{addTeamMember(){this.addTeamMemberForm.post(route("team-members.store",this.team),{errorBag:"addTeamMember",preserveScroll:!0,onSuccess:()=>this.addTeamMemberForm.reset()})},cancelTeamInvitation(_){this.$inertia.delete(route("team-invitations.destroy",_),{preserveScroll:!0})},manageRole(_){this.managingRoleFor=_,this.updateRoleForm.role=_.membership.role,this.currentlyManagingRole=!0},updateRole(){this.updateRoleForm.put(route("team-members.update",[this.team,this.managingRoleFor]),{preserveScroll:!0,onSuccess:()=>this.currentlyManagingRole=!1})},confirmLeavingTeam(){this.confirmingLeavingTeam=!0},leaveTeam(){this.leaveTeamForm.delete(route("team-members.destroy",[this.team,this.$page.props.user]))},confirmTeamMemberRemoval(_){this.teamMemberBeingRemoved=_},removeTeamMember(){this.removeTeamMemberForm.delete(route("team-members.destroy",[this.team,this.teamMemberBeingRemoved]),{errorBag:"removeTeamMember",preserveScroll:!0,preserveState:!0,onSuccess:()=>this.teamMemberBeingRemoved=null})},displayableRole(_){return this.availableRoles.find(a=>a.key===_).name}}},H={key:0},K=l(" Add Team Member "),Q=l(" Add a new team member to your team, allowing them to collaborate with you. "),W=s("div",{class:"col-span-6"},[s("div",{class:"max-w-xl text-sm text-gray-600"}," Please provide the email address of the person you would like to add to this team. ")],-1),X={class:"col-span-6 sm:col-span-4"},Y={key:0,class:"col-span-6 lg:col-span-4"},Z={class:"relative z-0 mt-1 border border-gray-200 rounded-lg cursor-pointer"},$=["onClick"],ee={class:"flex items-center"},te={key:0,class:"ml-2 h-5 w-5 text-green-400",fill:"none","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",stroke:"currentColor",viewBox:"0 0 24 24"},oe=s("path",{d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"},null,-1),se=[oe],ne={class:"mt-2 text-xs text-gray-600"},re=l(" Added. "),ie=l(" Add "),le={key:1},ae=l(" Pending Team Invitations "),me=l(" These people have been invited to your team and have been sent an invitation email. They may join the team by accepting the email invitation. "),ce={class:"space-y-6"},de={class:"text-gray-600"},ue={class:"flex items-center"},_e=["onClick"],be={key:2},ve=l(" Team Members "),ge=l(" All of the people that are part of this team. "),he={class:"space-y-6"},fe={class:"flex items-center"},pe=["src","alt"],ye={class:"ml-4"},ke={class:"flex items-center"},Te=["onClick"],Me={key:1,class:"ml-2 text-sm text-gray-400"},Re=["onClick"],xe=l(" Manage Role "),Fe={key:0},Ce={class:"relative z-0 mt-1 border border-gray-200 rounded-lg cursor-pointer"},je=["onClick"],we={class:"flex items-center"},Je={key:0,class:"ml-2 h-5 w-5 text-green-400",fill:"none","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",stroke:"currentColor",viewBox:"0 0 24 24"},Be=s("path",{d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"},null,-1),Se=[Be],Le={class:"mt-2 text-xs text-gray-600"},Ae=l(" Cancel "),Pe=l(" Save "),ze=l(" Leave Team "),Ve=l(" Are you sure you would like to leave this team? "),Ie=l(" Cancel "),Ne=l(" Leave "),De=l(" Remove Team Member "),Ee=l(" Are you sure you would like to remove this person from the team? "),Oe=l(" Cancel "),Ue=l(" Remove ");function qe(_,a,m,Ge,t,d){const p=c("jet-section-border"),k=c("jet-label"),C=c("jet-input"),T=c("jet-input-error"),j=c("jet-action-message"),M=c("jet-button"),w=c("jet-form-section"),R=c("jet-action-section"),y=c("jet-secondary-button"),J=c("jet-dialog-modal"),x=c("jet-danger-button"),F=c("jet-confirmation-modal");return r(),i("div",null,[m.userPermissions.canAddTeamMembers?(r(),i("div",H,[n(p),n(w,{onSubmitted:d.addTeamMember},{title:o(()=>[K]),description:o(()=>[Q]),form:o(()=>[W,s("div",X,[n(k,{for:"email",value:"Email"}),n(C,{id:"email",type:"email",class:"mt-1 block w-full",modelValue:t.addTeamMemberForm.email,"onUpdate:modelValue":a[0]||(a[0]=e=>t.addTeamMemberForm.email=e)},null,8,["modelValue"]),n(T,{message:t.addTeamMemberForm.errors.email,class:"mt-2"},null,8,["message"])]),m.availableRoles.length>0?(r(),i("div",Y,[n(k,{for:"roles",value:"Role"}),n(T,{message:t.addTeamMemberForm.errors.role,class:"mt-2"},null,8,["message"]),s("div",Z,[(r(!0),i(h,null,f(m.availableRoles,(e,b)=>(r(),i("button",{type:"button",class:v(["relative px-4 py-3 inline-flex w-full rounded-lg focus:z-10 focus:outline-none focus:border-blue-300 focus:ring focus:ring-blue-200",{"border-t border-gray-200 rounded-t-none":b>0,"rounded-b-none":b!=Object.keys(m.availableRoles).length-1}]),onClick:B=>t.addTeamMemberForm.role=e.key,key:e.key},[s("div",{class:v({"opacity-50":t.addTeamMemberForm.role&&t.addTeamMemberForm.role!=e.key})},[s("div",ee,[s("div",{class:v(["text-sm text-gray-600",{"font-semibold":t.addTeamMemberForm.role==e.key}])},g(e.name),3),t.addTeamMemberForm.role==e.key?(r(),i("svg",te,se)):u("",!0)]),s("div",ne,g(e.description),1)],2)],10,$))),128))])])):u("",!0)]),actions:o(()=>[n(j,{on:t.addTeamMemberForm.recentlySuccessful,class:"mr-3"},{default:o(()=>[re]),_:1},8,["on"]),n(M,{class:v({"opacity-25":t.addTeamMemberForm.processing}),disabled:t.addTeamMemberForm.processing},{default:o(()=>[ie]),_:1},8,["class","disabled"])]),_:1},8,["onSubmitted"])])):u("",!0),m.team.team_invitations.length>0&&m.userPermissions.canAddTeamMembers?(r(),i("div",le,[n(p),n(R,{class:"mt-10 sm:mt-0"},{title:o(()=>[ae]),description:o(()=>[me]),content:o(()=>[s("div",ce,[(r(!0),i(h,null,f(m.team.team_invitations,e=>(r(),i("div",{class:"flex items-center justify-between",key:e.id},[s("div",de,g(e.email),1),s("div",ue,[m.userPermissions.canRemoveTeamMembers?(r(),i("button",{key:0,class:"cursor-pointer ml-6 text-sm text-red-500 focus:outline-none",onClick:b=>d.cancelTeamInvitation(e)}," Cancel ",8,_e)):u("",!0)])]))),128))])]),_:1})])):u("",!0),m.team.users.length>0?(r(),i("div",be,[n(p),n(R,{class:"mt-10 sm:mt-0"},{title:o(()=>[ve]),description:o(()=>[ge]),content:o(()=>[s("div",he,[(r(!0),i(h,null,f(m.team.users,e=>(r(),i("div",{class:"flex items-center justify-between",key:e.id},[s("div",fe,[s("img",{class:"w-8 h-8 rounded-full",src:e.profile_photo_url,alt:e.name},null,8,pe),s("div",ye,g(e.name),1)]),s("div",ke,[m.userPermissions.canAddTeamMembers&&m.availableRoles.length?(r(),i("button",{key:0,class:"ml-2 text-sm text-gray-400 underline",onClick:b=>d.manageRole(e)},g(d.displayableRole(e.membership.role)),9,Te)):m.availableRoles.length?(r(),i("div",Me,g(d.displayableRole(e.membership.role)),1)):u("",!0),_.$page.props.user.id===e.id?(r(),i("button",{key:2,class:"cursor-pointer ml-6 text-sm text-red-500",onClick:a[1]||(a[1]=(...b)=>d.confirmLeavingTeam&&d.confirmLeavingTeam(...b))}," Leave ")):u("",!0),m.userPermissions.canRemoveTeamMembers?(r(),i("button",{key:3,class:"cursor-pointer ml-6 text-sm text-red-500",onClick:b=>d.confirmTeamMemberRemoval(e)}," Remove ",8,Re)):u("",!0)])]))),128))])]),_:1})])):u("",!0),n(J,{show:t.currentlyManagingRole,onClose:a[3]||(a[3]=e=>t.currentlyManagingRole=!1)},{title:o(()=>[xe]),content:o(()=>[t.managingRoleFor?(r(),i("div",Fe,[s("div",Ce,[(r(!0),i(h,null,f(m.availableRoles,(e,b)=>(r(),i("button",{type:"button",class:v(["relative px-4 py-3 inline-flex w-full rounded-lg focus:z-10 focus:outline-none focus:border-blue-300 focus:ring focus:ring-blue-200",{"border-t border-gray-200 rounded-t-none":b>0,"rounded-b-none":b!==Object.keys(m.availableRoles).length-1}]),onClick:B=>t.updateRoleForm.role=e.key,key:e.key},[s("div",{class:v({"opacity-50":t.updateRoleForm.role&&t.updateRoleForm.role!==e.key})},[s("div",we,[s("div",{class:v(["text-sm text-gray-600",{"font-semibold":t.updateRoleForm.role===e.key}])},g(e.name),3),t.updateRoleForm.role===e.key?(r(),i("svg",Je,Se)):u("",!0)]),s("div",Le,g(e.description),1)],2)],10,je))),128))])])):u("",!0)]),footer:o(()=>[n(y,{onClick:a[2]||(a[2]=e=>t.currentlyManagingRole=!1)},{default:o(()=>[Ae]),_:1}),n(M,{class:v(["ml-2",{"opacity-25":t.updateRoleForm.processing}]),onClick:d.updateRole,disabled:t.updateRoleForm.processing},{default:o(()=>[Pe]),_:1},8,["onClick","class","disabled"])]),_:1},8,["show"]),n(F,{show:t.confirmingLeavingTeam,onClose:a[5]||(a[5]=e=>t.confirmingLeavingTeam=!1)},{title:o(()=>[ze]),content:o(()=>[Ve]),footer:o(()=>[n(y,{onClick:a[4]||(a[4]=e=>t.confirmingLeavingTeam=!1)},{default:o(()=>[Ie]),_:1}),n(x,{class:v(["ml-2",{"opacity-25":t.leaveTeamForm.processing}]),onClick:d.leaveTeam,disabled:t.leaveTeamForm.processing},{default:o(()=>[Ne]),_:1},8,["onClick","class","disabled"])]),_:1},8,["show"]),n(F,{show:t.teamMemberBeingRemoved,onClose:a[7]||(a[7]=e=>t.teamMemberBeingRemoved=null)},{title:o(()=>[De]),content:o(()=>[Ee]),footer:o(()=>[n(y,{onClick:a[6]||(a[6]=e=>t.teamMemberBeingRemoved=null)},{default:o(()=>[Oe]),_:1}),n(x,{class:v(["ml-2",{"opacity-25":t.removeTeamMemberForm.processing}]),onClick:d.removeTeamMember,disabled:t.removeTeamMemberForm.processing},{default:o(()=>[Ue]),_:1},8,["onClick","class","disabled"])]),_:1},8,["show"])])}var at=q(G,[["render",qe]]);export{at as default};
