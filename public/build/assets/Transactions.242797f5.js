import{g as x}from"./atmosphere-ui.es.c3e31e0f.js";import{_ as y}from"./AppLayout.3e3cea3d.js";import{_ as D}from"./TransactionSearch.24bf9aa3.js";import{_ as O}from"./FinanceTemplate.ac65ad2e.js";import{_ as S}from"./TransactionTemplate.8e886196.js";import{_}from"./FinanceSectionNav.00cd2844.js";import{g as d,u as C}from"./index.12ae0132.js";import{s as i}from"./index.9f2c73cb.js";import{s as $,x as M,q as k,o as v,g as f,b as n,a as p,d as o,f as m,n as w,A as V}from"./app.ed3e752b.js";import{N as z}from"./Select.c33131e1.js";import"./_plugin-vue_export-helper.cdc0426e.js";import"./formatters.cb3e363e.js";import"./exact-math.node.9417df38.js";import"./formatMoney.228f3112.js";import"./NumberHider.72930275.js";import"./Popover.b027aa1f.js";import"./fade-in-scale-up.cssr.07c62ce8.js";import"./light.2fdb7969.js";import"./format-length.7f3135aa.js";import"./index.58d4bda5.js";import"./Progress.0fc8aa38.js";import"./index.48295fb6.js";import"./SectionTitle.f3bd16f6.js";/* empty css                                              */import"./AccountModal.21b25b0f.js";import"./Modal.1586865f.js";import"./LogerInput.65190e93.js";import"./TransactionModal.6a68c7aa.js";import"./DatePicker.4a87f282.js";import"./Suffix.8e8bf306.js";import"./ImportResourceModal.0a88250c.js";import"./SectionNav.adfa71d4.js";const H={class:"flex items-center w-full space-x-2"},T={class:"flex h-10 overflow-hidden text-white divide-x-2 divide-white rounded-md bg-primary min-w-max"},A=o("svg",{xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink","aria-hidden":"true",role:"img",class:"iconify iconify--ic",width:"32",height:"32",preserveAspectRatio:"xMidYMid meet",viewBox:"0 0 24 24"},[o("path",{fill:"currentColor",d:"M3 13h2v-2H3v2zm0 4h2v-2H3v2zm0-8h2V7H3v2zm4 4h14v-2H7v2zm0 4h14v-2H7v2zM7 7v2h14V7H7z"})],-1),B=[A],I=o("svg",{xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink","aria-hidden":"true",role:"img",class:"iconify iconify--uim",width:"32",height:"32",preserveAspectRatio:"xMidYMid meet",viewBox:"0 0 24 24"},[o("path",{fill:"currentColor",d:"M6 23H2a1 1 0 0 1-1-1v-8a1 1 0 0 1 1-1h4a1 1 0 0 1 1 1v8a1 1 0 0 1-1 1Z",opacity:".25"}),o("path",{fill:"currentColor",d:"M14 23h-4a1 1 0 0 1-1-1V2a1 1 0 0 1 1-1h4a1 1 0 0 1 1 1v20a1 1 0 0 1-1 1Z"}),o("path",{fill:"currentColor",d:"M22 23h-4a1 1 0 0 1-1-1V10a1 1 0 0 1 1-1h4a1 1 0 0 1 1 1v12a1 1 0 0 1-1 1Z",opacity:".5"})],-1),N=[I],ft={__name:"Transactions",props:{transactions:{type:Array,default:()=>[]},accounts:{type:Array,default:()=>[]},serverSearchOptions:{type:Object,default:()=>({})},accountId:{type:[Number,null]}},setup(s){var u,h;const l=s,t=$({filterOptions:[{label:"Accounts",value:"accounts"},{label:"Descriptions",value:"description"}],searchOptions:{group:"",date:{startDate:null,endDate:null}},date:i(((h=(u=l.serverSearchOptions)==null?void 0:u.date)==null?void 0:h.startDate)||new Date),dateSpan:null,listType:"table"}),c=r=>t.listType==r;M(()=>t.searchOptions,()=>{C(t.searchOptions,t.dateSpan)},{deep:!0}),Object.entries(l.serverSearchOptions).forEach(([r,e])=>{r==="date"?(t.searchOptions.date.startDate=i(d(e.startDate)),t.searchOptions.date.endDate=i(d(e.endDate)),t.date=i(d(e.startDate))):t.searchOptions[r]=Object.values(t.filterOptions).map(a=>a.value).includes(e)?e:""});const g=k(()=>l.accountId?S:D),b=r=>{debugger;Inertia.delete(`/transactions/${r.id}`).then(()=>{Inertia.reload()})};return(r,e)=>(v(),f(y,{onBack:e[7]||(e[7]=a=>r.$inertia.visit(r.route("finance"))),"show-back-button":!0},{header:n(()=>[p(_,null,{actions:n(()=>[o("div",H,[p(m(x),{class:"w-full h-12 border-none bg-base-lvl-1 text-body",modelValue:t.date,"onUpdate:modelValue":e[0]||(e[0]=a=>t.date=a),dateSpan:t.dateSpan,"onUpdate:dateSpan":e[1]||(e[1]=a=>t.dateSpan=a),startDate:t.searchOptions.date.startDate,"onUpdate:startDate":e[2]||(e[2]=a=>t.searchOptions.date.startDate=a),endDate:t.searchOptions.date.endDate,"onUpdate:endDate":e[3]||(e[3]=a=>t.searchOptions.date.endDate=a),controlsClass:"bg-transparent text-body hover:bg-base-lvl-1","next-mode":"month"},null,8,["modelValue","dateSpan","startDate","endDate"]),p(m(z),{filterable:"",clearable:"",size:"large",placeholder:"Group by",options:t.filterOptions,value:t.searchOptions.group,"onUpdate:value":e[4]||(e[4]=a=>t.searchOptions.group=a)},null,8,["options","value"]),o("div",T,[o("button",{class:w(["px-5",{"bg-primary-700":c("table")}]),onClick:e[5]||(e[5]=a=>t.listType="table")},B,2),o("button",{class:w(["px-5",{"bg-primary-700":c("graph")}]),onClick:e[6]||(e[6]=a=>t.listType="graph")},N,2)])])]),_:1})]),default:n(()=>[p(O,{title:"Transactions",accounts:s.accounts},{default:n(()=>[(v(),f(V(m(g)),{transactions:s.transactions,"server-search-options":s.serverSearchOptions,"with-teleport":!0,onRemoved:b},null,40,["transactions","server-search-options"]))]),_:1},8,["accounts"])]),_:1}))}};export{ft as default};
