import{Z as c}from"./atmosphere-ui-b819c890.js";import{q as _,r as v,o as k,c as b,w as o,u as a,a as i,O as s,b as $,i as g}from"./app-114b751b.js";import{_ as S}from"./AppLayout.vue_vue_type_script_setup_true_lang-c7e24bdb.js";import{_ as V}from"./MealSection-b9f4a445.js";import{_ as w}from"./MealTemplate-c37f7fbb.js";import{_ as x}from"./MealSectionNav-6fd33fa7.js";import{_ as B}from"./StatusButtons-c1cd28d1.js";import"./isMobile-e3872359.js";import"./formatMoney-75af80f0.js";import"./useFirebase-fe12e715.js";import"./_plugin-vue_export-helper-c27b6911.js";import"./AppIcon-f342d706.js";/* empty css                                                */import"./Modal-c2871cdd.js";/* empty css                                              */import"./LogerInput-8ca4e824.js";import"./LogerButton-7d66d0a8.js";import"./IconHeartOutline-49f40b38.js";import"./SectionTitle-20b8f2ca.js";import"./SectionNav-dd96bdd5.js";import"./Dropdown-839d2ecf.js";const K={__name:"Index",props:{meals:{type:Array,required:!0},serverSearchOptions:{type:Object,default:()=>({})}},setup(p){var n;const l=p,u=_(()=>{var e;return((e=l.meals)==null?void 0:e.data)??[]}),d=e=>{e.is_liked=!e.is_liked,s.put(route("meals.update",e),{is_liked:e.is_liked},{onSuccess(){s.reload({preserveScroll:!0})}})},f={all:{label:"All meals",value:"/meals"},1:{label:"Favorites",value:"/meals?filter[is_liked]=1"}},m=v(((n=l.serverSearchOptions.filters)==null?void 0:n.is_liked)||"all");return(e,t)=>(k(),b(S,{title:"Recipes","show-back-button":!0,onBack:t[4]||(t[4]=r=>a(s).visit("/meal-planner"))},{header:o(()=>[i(x,null,{actions:o(()=>[i(B,{modelValue:m.value,"onUpdate:modelValue":t[0]||(t[0]=r=>m.value=r),statuses:f,onChange:t[1]||(t[1]=r=>a(s).visit(r))},null,8,["modelValue"]),$("div",null,[i(a(c),{class:"items-center h-10 text-white bg-primary",rounded:"",onClick:t[2]||(t[2]=r=>a(s).visit(e.route("meals.create")))},{default:o(()=>[g(" New Meal")]),_:1})])]),_:1})]),default:o(()=>[i(w,{class:"mx-auto"},{default:o(()=>[i(V,{meals:u.value,onClick:t[3]||(t[3]=r=>a(s).visit(e.route("meals.edit",r))),onToggleLike:d},null,8,["meals"])]),_:1})]),_:1}))}};export{K as default};
